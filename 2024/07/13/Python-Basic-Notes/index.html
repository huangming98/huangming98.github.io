<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic|Roboto:300,300italic,400,400italic,700,700italic|JetBrains Mono:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">
<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"www.huangm.cn","root":"/","scheme":"Mist","version":"7.8.0","exturl":false,"sidebar":{"position":"left","Muse | Mist":180,"width":250,"display":"always","padding":20,"offset":12,"onmobile":true},"copycode":{"enable":true,"show_result":true,"style":"mac"},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":"ture","lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="PYTHON 基础1. python 流程格式1.1 变量赋值、运算与字符串表示、处理、判断12345678910name1 &#x3D; name2 &#x3D; name3 &#x3D; &#39;文件系统&#39;name1, name2, name3 &#x3D; &quot;文件&quot;, &quot;系统&quot;, &quot;管理&quot;name &#x3D; &quot;&quot;&quot; nihaoa&quot;&quot;&quot;##变量多行用 &quot;&quot;&quot;.....&quot;&quot;&quot; 变量运算表|  运算   |             描述">
<meta property="og:type" content="article">
<meta property="og:title" content="Python Basic Notes">
<meta property="og:url" content="https://www.huangm.cn/2024/07/13/Python-Basic-Notes/index.html">
<meta property="og:site_name" content="Ming Huang&#39;s Homepage">
<meta property="og:description" content="PYTHON 基础1. python 流程格式1.1 变量赋值、运算与字符串表示、处理、判断12345678910name1 &#x3D; name2 &#x3D; name3 &#x3D; &#39;文件系统&#39;name1, name2, name3 &#x3D; &quot;文件&quot;, &quot;系统&quot;, &quot;管理&quot;name &#x3D; &quot;&quot;&quot; nihaoa&quot;&quot;&quot;##变量多行用 &quot;&quot;&quot;.....&quot;&quot;&quot; 变量运算表|  运算   |             描述">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://github.githubassets.com/images/icons/emoji/unicode/2705.png?v8">
<meta property="og:image" content="https://github.githubassets.com/images/icons/emoji/unicode/2705.png?v8">
<meta property="og:image" content="https://github.githubassets.com/images/icons/emoji/unicode/2705.png?v8">
<meta property="og:image" content="https://github.githubassets.com/images/icons/emoji/unicode/2b55.png?v8">
<meta property="og:image" content="https://github.githubassets.com/images/icons/emoji/unicode/2705.png?v8">
<meta property="og:image" content="https://github.githubassets.com/images/icons/emoji/unicode/2705.png?v8">
<meta property="og:image" content="https://github.githubassets.com/images/icons/emoji/unicode/2705.png?v8">
<meta property="article:published_time" content="2024-07-13T11:05:11.000Z">
<meta property="article:modified_time" content="2024-10-25T11:07:10.000Z">
<meta property="article:author" content="Ming Huang">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://github.githubassets.com/images/icons/emoji/unicode/2705.png?v8">

<link rel="canonical" href="https://www.huangm.cn/2024/07/13/Python-Basic-Notes/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'en'
  };
</script>

  <title>Python Basic Notes | Ming Huang's Homepage</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>


<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Ming Huang's Homepage</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/home" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-publications">

    <a href="/publications/" rel="section"><i class="fa fa-book fa-fw"></i>Publications</a>

  </li>
        <li class="menu-item menu-item-resources">

    <a href="/resources/" rel="section"><i class="fa fa-cloud fa-fw"></i>Resources</a>

  </li>
        <li class="menu-item menu-item-link">

    <a href="/link/" rel="section"><i class="fa fa-link fa-fw"></i>Scholars Link</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Blog</a>

  </li>
        <li class="menu-item menu-item-switch-to-chinese">

    <a href="https://www.huangm.cn/cn/" rel="section"><i class="fa fa-language fa-fw"></i>Switch to Chinese</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://www.huangm.cn/2024/07/13/Python-Basic-Notes/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/pic.png">
      <meta itemprop="name" content="Ming Huang">
      <meta itemprop="description" content="Let’s do something extraordinary together.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Ming Huang's Homepage">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Python Basic Notes
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-07-13 19:05:11" itemprop="dateCreated datePublished" datetime="2024-07-13T19:05:11+08:00">2024-07-13</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2024-10-25 19:07:10" itemprop="dateModified" datetime="2024-10-25T19:07:10+08:00">2024-10-25</time>
              </span>

          
            <span class="post-meta-item" title="Views" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">Views: </span>
              <span id="busuanzi_value_page_pv"></span>
            </span><br>
            <span class="post-meta-item" title="Symbols count in article">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">Symbols count in article: </span>
              <span>29k</span>
            </span>
            <span class="post-meta-item" title="Reading time">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">Reading time &asymp;</span>
              <span>53 mins.</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h1 id="PYTHON-基础"><a href="#PYTHON-基础" class="headerlink" title="PYTHON 基础"></a>PYTHON 基础</h1><h2 id="1-python-流程格式"><a href="#1-python-流程格式" class="headerlink" title="1. python 流程格式"></a>1. python 流程格式</h2><h3 id="1-1-变量赋值、运算与字符串表示、处理、判断"><a href="#1-1-变量赋值、运算与字符串表示、处理、判断" class="headerlink" title="1.1 变量赋值、运算与字符串表示、处理、判断"></a>1.1 变量赋值、运算与字符串表示、处理、判断</h3><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">name1 = name2 = name3 = <span class="string">'文件系统'</span></span><br><span class="line">name1, name2, name3 = <span class="string">"文件"</span>, <span class="string">"系统"</span>, <span class="string">"管理"</span></span><br><span class="line">name = <span class="string">""" </span></span><br><span class="line"><span class="string">ni</span></span><br><span class="line"><span class="string">hao</span></span><br><span class="line"><span class="string">a</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">##变量多行用 """....."""</span></span><br></pre></td></tr></tbody></table></figure>
<p><strong>变量运算表</strong><br>|  运算   |             描述             |<br>| :——-: | :—————————————: |<br>| + - <em> / | 加减乘除 (+可用于连接string) |<br>|    %    |      取模（102%100=2）       |<br>|   <em>*    |       幂次方（2</em></em>3=8）       |<br>|   //    |      取除数（20//3=6）       |</p>
<p><strong>字符串输出表</strong></p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">方式</th>
<th style="text-align:center">意思</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">:,</td>
<td style="text-align:center">每 3 个 0 就用逗号隔开，比如 1,000</td>
</tr>
<tr>
<td style="text-align:center">:b</td>
<td style="text-align:center">该数字的二进制</td>
</tr>
<tr>
<td style="text-align:center">:d</td>
<td style="text-align:center">整数型</td>
</tr>
<tr>
<td style="text-align:center">:f</td>
<td style="text-align:center">小数模式</td>
</tr>
<tr>
<td style="text-align:center">:%</td>
<td style="text-align:center">百分比模式</td>
</tr>
</tbody>
</table>
</div>
<p><strong>1 字符串表示 ( %百分号模式 与 format功能 与 f格式化字符串)</strong><br></p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">name = <span class="string">"hm"</span></span><br><span class="line">age = <span class="number">24</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">"我的名字是 %s !我 %d 岁了"</span> % (name, age))   <span class="comment">#百分号模式</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">"我的名字是 {} !我 {} 岁了"</span>.<span class="built_in">format</span>(name, age))<span class="comment">#format功能</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f"我的名字是 <span class="subst">{name}</span> !我 <span class="subst">{age}</span> 岁了"</span>)   <span class="comment">#f 格式化</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">"我 {:.3f} 米高"</span>.<span class="built_in">format</span>(<span class="number">1.12345</span>))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">"我 {ht:.1f} 米高"</span>.<span class="built_in">format</span>(ht=<span class="number">1.12345</span>))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">"我 {:3d} 米高"</span>.<span class="built_in">format</span>(<span class="number">1</span>))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">"我 {:3d} 米高"</span>.<span class="built_in">format</span>(<span class="number">21</span>))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">"You scored {:.2%}"</span>.<span class="built_in">format</span>(<span class="number">2.1234</span>))</span><br><span class="line">score = <span class="number">2.1234</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f"You scored <span class="subst">{score:<span class="number">.2</span>%}</span>"</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f"You scored <span class="subst">{<span class="number">12</span>:5d}</span>"</span>)</span><br><span class="line"><span class="comment">#我的名字是 hm !我 24 岁了</span></span><br><span class="line"><span class="comment">#我 1.123 米高</span></span><br><span class="line"><span class="comment">#我 1.1 米高</span></span><br><span class="line"><span class="comment">#我   1 米高</span></span><br><span class="line"><span class="comment">#我  21 米高</span></span><br><span class="line"><span class="comment">#You scored 212.34%</span></span><br><span class="line"><span class="comment">#You scored 212.34%</span></span><br><span class="line"><span class="comment">#You scored    12</span></span><br></pre></td></tr></tbody></table></figure><br><strong>2 字符串处理与判断</strong><p></p>
<p>string.strip()            去除两端的空白符<br>string.replace(“原始”,”新的”)    替换字符<br>string.lower()          全部做小写处理<br>string.upper()          全部做大写处理<br>string.title()          仅开头的字母大写<br>string.split(“|”)        按要求分割以|进行分割<br>“,”.join([])            按要求合并中间添加,号<br>string.startswith(“你”)    判断是否为你字段开头<br>string.endswith(“哈哈”)    判断是否为哈哈字段结尾<br>&nbsp;</p>
<h3 id="1-2-条件判断、循环、跳出跳过（if-for-while-break-continue）"><a href="#1-2-条件判断、循环、跳出跳过（if-for-while-break-continue）" class="headerlink" title="1.2 条件判断、循环、跳出跳过（if/for/while/break/continue）"></a>1.2 条件判断、循环、跳出跳过（if/for/while/break/continue）</h3><figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## IF</span></span><br><span class="line"><span class="comment">#  冒号":"是必要格式不要遗失</span></span><br><span class="line"><span class="keyword">if</span> a==b :</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">'ds'</span>)</span><br><span class="line"><span class="keyword">elif</span>(a&gt;=b):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">'es'</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">'ys'</span>)</span><br><span class="line"></span><br><span class="line">a = <span class="number">1</span> </span><br><span class="line">b=<span class="number">2</span></span><br><span class="line">c = b <span class="keyword">if</span> a&gt;=b <span class="keyword">else</span> a  <span class="comment">#简单的if-else 可以写成一行的简写模式</span></span><br></pre></td></tr></tbody></table></figure>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#  python 从0开始 区间取值均为前闭后开:[3,10) 基础</span></span><br><span class="line"><span class="comment"># for 循环处理有明确长度的序列，那么你第一个想到的应该是 。 </span></span><br><span class="line"><span class="comment"># while 循环无限长序列或者运行无限次数,用条件来限制他的循环次数。</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">3</span>,<span class="number">10</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"文件"</span>+ <span class="built_in">str</span>(i)) <span class="comment"># int型与string型不能直接连接需转换int型为string型(文件1)</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"文件"</span>, <span class="built_in">str</span>(i)) <span class="comment">#(文件 1) 中间有空格</span></span><br><span class="line"></span><br><span class="line">l = [i*<span class="number">2</span> <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">3</span>,<span class="number">10</span>)] <span class="comment"># 简单的for 可以写成一行的简写模式</span></span><br><span class="line">l = [i*<span class="number">2</span> <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">3</span>,<span class="number">10</span>) <span class="keyword">if</span> i%<span class="number">2</span>==<span class="number">0</span>] <span class="comment"># 简单的for+if 可以写成一行的简写模式</span></span><br><span class="line">a=<span class="number">0</span></span><br><span class="line"><span class="keyword">while</span> a != <span class="number">10</span>:</span><br><span class="line">    a += <span class="number">1</span></span><br><span class="line">    <span class="built_in">print</span>(a)</span><br><span class="line"></span><br><span class="line"><span class="comment">#  break:最主要的目的就是为了个性化的终止当前循环.</span></span><br><span class="line"><span class="comment">#  continue: 判断一个数据如果不能被处理的话，我就把它跳过，接着处理下一个数据。</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>):</span><br><span class="line">    <span class="keyword">if</span> i % <span class="number">2</span> == <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">continue</span>    <span class="comment"># 打印所以奇数，跳过偶数</span></span><br><span class="line">    <span class="keyword">if</span> i == <span class="number">9</span>:</span><br><span class="line">        <span class="keyword">break</span>       <span class="comment"># 如果 i=9跳出循环。</span></span><br><span class="line">    <span class="built_in">print</span>(i)</span><br></pre></td></tr></tbody></table></figure>
<p>&nbsp;</p>
<h3 id="1-3-数据类型"><a href="#1-3-数据类型" class="headerlink" title="1.3 数据类型"></a>1.3 数据类型</h3><h4 id="1-3-1-List列表、Dict字典、Tuple元组、Set集合"><a href="#1-3-1-List列表、Dict字典、Tuple元组、Set集合" class="headerlink" title="1.3.1 List列表、Dict字典、Tuple元组、Set集合"></a>1.3.1 List列表、Dict字典、Tuple元组、Set集合</h4><p><strong>list “[]”</strong>—— 具有顺序、可存放不同类型；但是<br></p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">files = [<span class="number">1</span>, <span class="string">"file"</span>, [<span class="string">"2"</span>, <span class="number">3.2</span>],<span class="string">"ha"</span>]</span><br><span class="line"><span class="built_in">print</span>( files[<span class="number">2</span>:<span class="number">4</span>]) <span class="comment"># [["2", 3.2],"ha"]  取[2,3)</span></span><br><span class="line"><span class="built_in">print</span>( files[-<span class="number">3</span>:]) <span class="comment"># ["file", ["2", 3.2],"ha"] 从后往前取三个</span></span><br><span class="line"><span class="built_in">print</span>( files[<span class="number">2</span>][<span class="number">1</span>]) <span class="comment"># 3.2</span></span><br><span class="line"><span class="keyword">for</span> f <span class="keyword">in</span> files:    </span><br><span class="line">    <span class="keyword">if</span> f == <span class="string">"f3.txt"</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"I got f3.txt"</span>)</span><br><span class="line">（OR）</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(files)):</span><br><span class="line">    <span class="keyword">if</span> files[i] == <span class="string">"f3.txt"</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"I got f3.txt"</span>)</span><br></pre></td></tr></tbody></table></figure><br><strong>Dict “{“key”:value}”</strong>—— 注意字典中的元素是<strong>没有顺序</strong>的; key-value型<br><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">files = {<span class="string">"ID"</span>: <span class="number">111</span>, <span class="string">"passport"</span>: <span class="string">"my passport"</span>, <span class="string">"books"</span>: [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]}</span><br><span class="line"><span class="built_in">print</span>(files[<span class="string">"books"</span>]) <span class="comment"># [1,2,3]</span></span><br></pre></td></tr></tbody></table></figure><br><strong>Tuple “()”</strong>—— 存放数据值不能被改变，常用来<strong>存放有些常数或固定值</strong>。特别是代码交由别人使用时，你没法控制，也不希望他们改变你的这些固定值。<br><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">files = (<span class="string">"file1"</span>, <span class="string">"file2"</span>, <span class="string">"file3"</span>)</span><br></pre></td></tr></tbody></table></figure><br><strong>Set “set([])”或”{}”</strong>—— Set常用于去重，set里面只会存在非重复的元素，不管你往里面加了多少相同元素，这些相同元素都会坍缩成一个。 这种特性，我们就可以运用它来做<strong>交集并集</strong>等操作。注意集合中的元素也<strong>没有顺序</strong>的。<br><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">my_files = <span class="built_in">set</span>([<span class="string">"file1"</span>, <span class="string">"file2"</span>, <span class="string">"file3"</span>])</span><br><span class="line">your_files = {<span class="string">"file1"</span>, <span class="string">"file3"</span>, <span class="string">"file5"</span>}</span><br><span class="line">my_files.add(<span class="string">"file4"</span>)      <span class="comment">#添加</span></span><br><span class="line">my_files.remove(<span class="string">"file3"</span>)   <span class="comment">#移除</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">"交集 "</span>, your_files.intersection(my_files))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">"并集 "</span>, your_files.union(my_files))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">"补集 "</span>, your_files.difference(my_files))</span><br></pre></td></tr></tbody></table></figure><br><strong>list 内元素的增加与删除</strong><br><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">files = []</span><br><span class="line">files.append(<span class="string">"f"</span>+<span class="built_in">str</span>(<span class="number">1</span>)+<span class="string">".txt"</span>) <span class="comment"># 添加元素</span></span><br><span class="line"><span class="built_in">print</span>(files)</span><br><span class="line">files.pop()   <span class="comment"># 从最后一个开始 pop 出 删除元素</span></span><br><span class="line"><span class="built_in">print</span>( files)</span><br><span class="line"><span class="comment"># 扩充入另一个列表</span></span><br><span class="line">files.extend([<span class="string">"f3.txt"</span>, <span class="string">"f4.txt"</span>])</span><br><span class="line"><span class="comment"># 按位置添加</span></span><br><span class="line">files.insert(<span class="number">1</span>, <span class="string">"file5.txt"</span>)     <span class="comment"># 添加入第1位（首位是0哦）</span></span><br><span class="line"><span class="comment"># 移除某索引</span></span><br><span class="line"><span class="keyword">del</span> files[<span class="number">1</span>]</span><br><span class="line"><span class="comment"># 移除某值 </span></span><br><span class="line">files.remove(<span class="string">"f3.txt"</span>)  <span class="comment"># 当存在多个f3.txt时，从0开始移除第一个f3.txt元素</span></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><br>&nbsp;<p></p>
<h4 id="1-3-2-arrly数组-——-Numpy库"><a href="#1-3-2-arrly数组-——-Numpy库" class="headerlink" title="1.3.2 arrly数组 —— Numpy库"></a>1.3.2 arrly数组 —— Numpy库</h4><p>&nbsp;</p>
<h4 id="1-3-3-arrly表-——-Panda库"><a href="#1-3-3-arrly表-——-Panda库" class="headerlink" title="1.3.3 arrly表  —— Panda库"></a>1.3.3 arrly表  —— Panda库</h4><p>&nbsp;</p>
<h3 id="1-4-一些函数的妙用"><a href="#1-4-一些函数的妙用" class="headerlink" title="1.4 一些函数的妙用"></a>1.4 一些函数的妙用</h3><h4 id="1-4-1enumerate-自动加-index"><a href="#1-4-1enumerate-自动加-index" class="headerlink" title="1.4.1enumerate 自动加 index"></a>1.4.1enumerate 自动加 index</h4><p>使用enumerate函数替换 手动计数器 count 的存在.<br></p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">count = <span class="number">0</span></span><br><span class="line">l = [<span class="number">11</span>,<span class="number">22</span>,<span class="number">33</span>,<span class="number">44</span>]</span><br><span class="line"><span class="keyword">for</span> data <span class="keyword">in</span> l:</span><br><span class="line">    <span class="keyword">if</span> count == <span class="number">2</span>:</span><br><span class="line">        data += <span class="number">11</span></span><br><span class="line">    l[count] = data</span><br><span class="line">    count += <span class="number">1</span></span><br><span class="line"><span class="built_in">print</span>(l)</span><br><span class="line"></span><br><span class="line">l = [<span class="number">11</span>,<span class="number">22</span>,<span class="number">33</span>,<span class="number">44</span>]</span><br><span class="line"><span class="keyword">for</span> count, data <span class="keyword">in</span> <span class="built_in">enumerate</span>(l,start=<span class="number">0</span>):  <span class="comment">#还可以初始化 count 开始的值</span></span><br><span class="line">    <span class="keyword">if</span> count == <span class="number">2</span>:</span><br><span class="line">        data += <span class="number">11</span></span><br><span class="line">    l[count] = data</span><br><span class="line"><span class="built_in">print</span>(l)</span><br><span class="line"><span class="comment">#&gt;[11, 22, 44, 44]</span></span><br></pre></td></tr></tbody></table></figure><p></p>
<h4 id="1-4-2-Zip-同时迭代"><a href="#1-4-2-Zip-同时迭代" class="headerlink" title="1.4.2 Zip 同时迭代"></a>1.4.2 Zip 同时迭代</h4><p>同时处理多个列表，并把它们做成一个字典。<br></p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">name = [<span class="string">"a"</span>, <span class="string">"b"</span>, <span class="string">"c"</span>]</span><br><span class="line">score = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line">bonus = [<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>]</span><br><span class="line">d = {}</span><br><span class="line"><span class="keyword">for</span> n, s, b <span class="keyword">in</span> <span class="built_in">zip</span>(name, score, bonus):</span><br><span class="line">    d[n]=s+b</span><br><span class="line"><span class="built_in">print</span>(d)</span><br></pre></td></tr></tbody></table></figure><p></p>
<h4 id="1-4-3-reverse-amp-reversed-翻转列表"><a href="#1-4-3-reverse-amp-reversed-翻转列表" class="headerlink" title="1.4.3 reverse &amp; reversed 翻转列表"></a>1.4.3 reverse &amp; reversed 翻转列表</h4><p>同时处理多个列表，并把它们做成一个字典。<br></p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#自己就地反转</span></span><br><span class="line">l = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line">l.reverse()</span><br><span class="line"><span class="built_in">print</span>(l)</span><br><span class="line"><span class="comment">#&gt;[3, 2, 1]</span></span><br><span class="line">(<span class="keyword">or</span>)</span><br><span class="line"><span class="comment">#用在 for 循环里的翻转迭代器</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">reversed</span>(l):</span><br><span class="line">    <span class="built_in">print</span>(i)</span><br><span class="line"><span class="comment">#&gt;3 2 1</span></span><br><span class="line">(<span class="keyword">or</span>)</span><br><span class="line"><span class="comment">#copy 出一个浅拷贝副本的反转</span></span><br><span class="line">_l = l[::-<span class="number">1</span>]</span><br><span class="line"><span class="built_in">print</span>(_l)</span><br><span class="line"><span class="comment">#&gt;[3, 2, 1]</span></span><br></pre></td></tr></tbody></table></figure><p></p>
<h4 id="1-4-4-Deep-Copy-amp-Shallow-Copy-复制要点"><a href="#1-4-4-Deep-Copy-amp-Shallow-Copy-复制要点" class="headerlink" title="1.4.4 Deep Copy &amp; Shallow Copy 复制要点"></a>1.4.4 Deep Copy &amp; Shallow Copy 复制要点</h4><p>Deep copy 就是我们通常意义上的复制，把东西全部再造了一遍，彻底成为了两个独立的个体。<br>Shallow Copy, 其实也有一点地址拷贝的意思，通过地址进行映射。 所以真实的实体是没有被复制的，我只复制了这个实体的一个映射地址而已。<br>注：Python 他在创造之初，就有这么个约定，列表中直接存放的<strong>数值、字符</strong>，与存放<strong>class 实例，列表，字典</strong>不同。 对<strong>数值、字符</strong>的复制，直接是复制的值，而不是一个映射地址。<br>程序数据的无端更改其实很有可能就是浅复制造成的，改变了不该被改变的值。但是浅复制的优势就是快。复制是需要内存和时间的，因为浅复制没有真正复制。</p>
<h2 id=""><a href="#" class="headerlink" title=""></a><figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#存放的数值、字符时相当于Deep Copy</span></span><br><span class="line">l = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line">_l = l.copy()</span><br><span class="line">_l[<span class="number">0</span>] = -<span class="number">1</span></span><br><span class="line"><span class="built_in">print</span>(_l)</span><br><span class="line"><span class="built_in">print</span>(l)</span><br><span class="line"><span class="comment">#&gt; [-1, 2, 3]</span></span><br><span class="line"><span class="comment">#&gt; [1, 2, 3]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#存放的列表时  .copy只是浅拷贝Shallow Copy</span></span><br><span class="line">l = [[<span class="number">1</span>],[<span class="number">2</span>],<span class="number">3</span>]</span><br><span class="line">_l = l.copy()</span><br><span class="line">_l[<span class="number">0</span>][<span class="number">0</span>] = -<span class="number">1</span></span><br><span class="line"><span class="built_in">print</span>(_l)</span><br><span class="line"><span class="built_in">print</span>(l)</span><br><span class="line"><span class="comment">#&gt; [[-1], [2], 3]</span></span><br><span class="line"><span class="comment">#&gt; [[-1], [2], 3]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#存放的列表时  如何深拷贝哪？</span></span><br><span class="line"><span class="keyword">from</span> copy <span class="keyword">import</span> deepcopy</span><br><span class="line">l = [[<span class="number">1</span>],[<span class="number">2</span>],<span class="number">3</span>]</span><br><span class="line">_l = deepcopy(l)</span><br><span class="line">_l[<span class="number">0</span>][<span class="number">0</span>] = -<span class="number">1</span></span><br><span class="line"><span class="built_in">print</span>(_l)</span><br><span class="line"><span class="built_in">print</span>(l)</span><br><span class="line"><span class="comment">#&gt; [[-1], [2], 3]</span></span><br><span class="line"><span class="comment">#&gt; [[1], [2], 3]</span></span><br></pre></td></tr></tbody></table></figure></h2><h2 id="2-python-框架格式"><a href="#2-python-框架格式" class="headerlink" title="2. python 框架格式"></a>2. python 框架格式</h2><h3 id="2-1-函数-Function-—-类-Class-—-模块-Module"><a href="#2-1-函数-Function-—-类-Class-—-模块-Module" class="headerlink" title="2.1 函数(Function) — 类 (Class) — 模块 (Module)"></a>2.1 函数(Function) — 类 (Class) — 模块 (Module)</h3><p><span class="github-emoji"><span>✅</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/2705.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span><strong>函数功能</strong> ：目的用于基础功能复用，简化程序流程<br></p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">g=<span class="number">3</span></span><br><span class="line"><span class="comment"># 传入变量 其中a=1, b=1, c=1为参数默认值（可以不设置），</span></span><br><span class="line"><span class="comment"># 当未传入a,b,c参数时令其为默认。</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">f</span>(<span class="params">x, a=<span class="number">1</span>, b=<span class="number">1</span>, c=<span class="number">1</span></span>): </span><br><span class="line">    <span class="keyword">global</span> g    </span><br><span class="line">    <span class="comment">#默认时局部变量不影响函数外部，除非golbal声明，</span></span><br><span class="line">    <span class="comment">#但是要注意全局变量不能同时函数传入变量</span></span><br><span class="line">    g=<span class="number">5</span></span><br><span class="line">    <span class="keyword">return</span> a*x**<span class="number">2</span> + b*x + c*<span class="number">3</span>  <span class="comment"># 返回变量</span></span><br><span class="line"><span class="built_in">print</span>(f(<span class="number">2</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>))         <span class="comment"># 忽略参数名，按顺序传参</span></span><br><span class="line"><span class="built_in">print</span>(f(x=<span class="number">2</span>, a=<span class="number">1</span>, b=<span class="number">1</span>, c=<span class="number">0</span>)) <span class="comment"># 写上参数名，按名字传参</span></span><br><span class="line"><span class="built_in">print</span>(f(a=<span class="number">1</span>, c=<span class="number">0</span>, x=<span class="number">2</span>, b=<span class="number">1</span>)) <span class="comment"># 若用参数名，可以打乱顺序传参</span></span><br><span class="line"><span class="built_in">print</span>(f(x, a=<span class="number">2</span>))             <span class="comment"># 等价于传入 x=2,a=2, b=1, c=1</span></span><br><span class="line"><span class="built_in">print</span>(g)                     <span class="comment"># 5</span></span><br></pre></td></tr></tbody></table></figure><p></p>
<p><span class="github-emoji"><span>✅</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/2705.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span><strong>类</strong> ：在程序中描述具体的一个物体。 比如一只猫有哪些特征，它能做哪些动作。 工程师想出了一个在代码中设置猫特征和动作的办法， 这就有了 class 类的概念。<br>  <strong><em><code>类的目的</code></em></strong> : 基于梳理逻辑步骤形成类,用于统筹管理函数，为函数分类使之条理清晰。 <strong>e.g.</strong> <code>数据处理类</code>（用于实现读写文件、数据提取、正则化、json序列化传输等函数功能）、<code>求解问题类</code>（问题参数、编解码目标函数计算、初始化种群、甘特图绘制等函数）、<code>算法模块</code>（naga-ii\moea/d\RL等类，每个类里包含诸如选择交叉变异的函数）、<code>工具类</code>（获取前沿面、轮盘赌等函数）</p>
<p><strong>a) 类的封装</strong>: 封装自己的属性和功能，把一个对象的属性私有化，同时提供一些可以被外界访问的属性的方法，如果存在不想被外界使用的方法，我们可私有化不提供方法给外界访问。<br></p><figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 用 class File 来创建一个大概念（类），注意我们通常约定类的名字要首字母大写。 </span></span><br><span class="line"><span class="comment"># 然后用 my_file = File() 来创建一个具体的文件。</span></span><br><span class="line"><span class="comment"># self 类内部的索引，用于获取该类的属性或者功能</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Fjsp_RMT</span>():</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, job_num, machine_num, p1, p2, parm_data</span>):  <span class="comment">#初始化实例</span></span><br><span class="line">        self.job_num = job_num  <span class="comment"># 工件数</span></span><br><span class="line">        self.machine_num = machine_num  <span class="comment"># 机器数</span></span><br><span class="line">        self.p1 = p1  <span class="comment"># 全局选择的概率    </span></span><br><span class="line">        self._p2 = p2  <span class="comment"># 局部选择的概率  (_开头我不想让别人用这个变量，但是还是可以用）</span></span><br><span class="line">        self.__deleted = <span class="literal">False</span>  <span class="comment">#  __开头我不让别人用这个变量</span></span><br><span class="line">        self.product, self.machines, self.F_cog,self.F_time, </span><br><span class="line">        self.F_cost= parm_data[<span class="number">0</span>], parm_data[<span class="number">1</span>],parm_data[<span class="number">2</span>], parm_data[<span class="number">3</span>],parm_data[<span class="number">4</span>]</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get_info</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="comment"># 类内部的功能返回时均带self</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">"工件数为:"</span>+ <span class="built_in">str</span>(self.job_num) + <span class="string">" ,机器数为:"</span> +<span class="built_in">str</span>(self.machine_num)  </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__force_delete</span>(<span class="params">self</span>):   <span class="comment"># 我不让别人使用这个功能</span></span><br><span class="line">        self.__deleted = <span class="literal">True</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">_soft_delete</span>(<span class="params">self</span>):     <span class="comment"># 我不想让别人使用这个功能</span></span><br><span class="line">        self.__force_delete()   <span class="comment"># 我自己可以在内部随便调用</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">fjsp_rmt=Fjsp_RMT(<span class="number">4</span>, <span class="number">3</span>, <span class="number">0.3</span>, <span class="number">0.4</span>, [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>])</span><br><span class="line"><span class="built_in">print</span>(fjsp_rmt.get_info())</span><br></pre></td></tr></tbody></table></figure><br>|     私有形式      |                            特点                            |<br>| :———————-: | :————————————————————————————: |<br>| _ 一个下划线开头  | <code>弱隐藏</code> <strong>不想让</strong>别人用 （别人在必要情况下还是可以用的） |<br>| __ 两个下划线开头 |                  <code>强隐藏</code> <strong>不让</strong>别人用                   |<p></p>
<p><strong>b) 类的继承与多态</strong>:<br> <strong>继承</strong>：是使用已存在的类的定义作为基础建立新类的技术，新类的定义可以增加新的数据或新的功能，也可以用父类的功能，但不能选择性地继承父类。集成特点如下:</p>
<ol>
<li>父类变，子类就必须变</li>
<li>继承破坏了封装，对于父类而言，它的实现细节对与子类来说都是透明的。</li>
<li>继承是一种强耦合关系</li>
</ol>
<p><strong>多态</strong>：若子类重写了父类中的某些方法，在调用该些方法的时候，必定是使用子类中定义的这些方法（动态连接、动态调用）。实现多态有三个必要条件：继承、重写、调用父类的属性/函数。<br></p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Fjsp_RMT_singe</span>(<span class="title class_ inherited__">Fjsp_RMT</span>):  <span class="comment"># 继承了 Fjsp_RMT 的属性和功能</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, job_num, machine_num, p1, p2, parm_data, add</span>):</span><br><span class="line">        <span class="comment"># 将共用属性的设置导入 File 父类</span></span><br><span class="line">        <span class="comment">#继承父类super的init参数时属于外部无需self  加入self 会报错</span></span><br><span class="line">        <span class="built_in">super</span>().__init__(job_num, machine_num, p1, p2, parm_data) </span><br><span class="line">        self.add = add</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get_more_info</span>(<span class="params">self</span>): <span class="comment"># 也可以在子类里复用父类功能</span></span><br><span class="line">        <span class="keyword">return</span> self.get_info() + <span class="string">",singe:"</span>+ <span class="built_in">str</span>(self.add)</span><br><span class="line">fjsp_rmt_singe=Fjsp_RMT_singe(<span class="number">4</span>, <span class="number">3</span>, <span class="number">0.3</span>, <span class="number">0.4</span>, [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>],(<span class="number">1080</span>, <span class="number">720</span>))</span><br><span class="line"><span class="built_in">print</span>(fjsp_rmt_singe.get_info())      <span class="comment"># 调用父类的功能</span></span><br><span class="line"><span class="built_in">print</span>(fjsp_rmt_singe.p1)              <span class="comment"># 调用父类的属性</span></span><br><span class="line"><span class="built_in">print</span>(fjsp_rmt_singe.add)             <span class="comment"># 调用自己的属性</span></span><br><span class="line"><span class="built_in">print</span>(fjsp_rmt_singe.get_more_info()) <span class="comment"># 调用自己加工父类的功能</span></span><br></pre></td></tr></tbody></table></figure><p></p>
<p><span class="github-emoji"><span>✅</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/2705.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span><strong>模块</strong> ：module主要是为了一个相对比较大的工程，涉及到多个文件之间的互相调用关系。<br>  <code>算法模块</code>（包括naga-ii\moea/d\RL等类，每个类里包含诸如参数等属性以及选择、交叉、变异的函数功能）。</p>
<p><span class="github-emoji"><span>⭕</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/2b55.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span><strong><em>统一规范：不涉及python包时均使用 import </em> as A 形式；涉及到 python包时采用from  A import <em> 形式并与<strong>init</strong>.py配合</em></strong>（原因：一般通用类都用 import numpy as np的形式，而python包中基本都是自己创建的程序类有实际用途所以包是空壳子没必要带着）<br></p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">#**如下代码显示了模块调用、导入的两种形式**</span></span><br><span class="line"> <span class="comment"># FJSP_RMT.py 和 main.py 在同一目录下 （main调用FJSP_RMT时）</span></span><br><span class="line">直接 <span class="keyword">import</span> 即可：</span><br><span class="line"><span class="keyword">import</span> FJSP_RMT <span class="keyword">as</span> problem</span><br><span class="line">或者</span><br><span class="line"><span class="keyword">from</span> b <span class="keyword">import</span> *</span><br></pre></td></tr></tbody></table></figure><br>上述两者的区别是：<p></p>
<ol>
<li>如果用 import FJSP_RMT as problem，我们在调用FJSP_RMT.py中定义的函数fun1()或类class1()时，需要写成 problem.fun1()或problem.class1()；</li>
<li>如果用 from FJSP_RMT import *，我们在调用FJSP_RMT.py中定义的函数fun1()或类class1()时，可以直接写成 fun1()或class1()；<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Algorithm模块下的NSGA2.py 和 main.py 在不同级的目录下 （main调用Algorithm时）</span></span><br><span class="line"><span class="keyword">from</span>  Algorithm <span class="keyword">import</span> *</span><br><span class="line"><span class="comment"># 在Algorithm模块下的__init__.py中输入该行代码 .NSGA2代表返回上一目录后找到NSGA2.py</span></span><br><span class="line"><span class="keyword">from</span> .NSGA2 <span class="keyword">import</span> NSGA2    </span><br><span class="line">则我们在调用NSGA2.py中定义的函数fun1()或类class1()时，可以直接写成 fun1()或class1()；</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> Algorithm.NSGA2 <span class="keyword">as</span> NSGA2</span><br><span class="line">并把Algorithm模块下的__init__.py清空</span><br><span class="line">则我们在调用NSGA2.py中定义的函数fun1()或类class1()时，可以直接写成 NSGA2.fun1()或NSGA2.class1()</span><br></pre></td></tr></tbody></table></figure>
&nbsp;<h3 id="2-2-异常处理-try-except-raise-与-单元测试-Unittest"><a href="#2-2-异常处理-try-except-raise-与-单元测试-Unittest" class="headerlink" title="2.2 异常处理(try-except\raise) 与 单元测试 (Unittest)"></a>2.2 异常处理(try-except\raise) 与 单元测试 (Unittest)</h3><span class="github-emoji"><span>✅</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/2705.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span><strong>异常处理(try-except)</strong><br>  代码出错不可避免，即便自己编写代码做到无错误 ，如果你的代码基于他人的代码，别人代码出错。即使别人的代码不出错，但是也有可能物理环境会出错呀，比如 CPU 超了，某人的服务运行失败，你恰好又是基于他提供的服务，你也跟着超时了。这些都会让你的程序报错。<strong>异常处理就是帮助我们去处理错误，预估到可能会报什么错误然后用try-except 结构包住处理，达到不妨碍接下来的代码执行。</strong><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#try-except 结构 同时处理多个异常 </span></span><br><span class="line">d = {<span class="string">"name"</span>: <span class="string">"f1"</span>, <span class="string">"age"</span>: <span class="number">2</span>}</span><br><span class="line">l = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    v = d[<span class="string">"gender"</span>]</span><br><span class="line">    l[<span class="number">3</span>] = <span class="number">4</span></span><br><span class="line"><span class="keyword">except</span> (KeyError, IndexError) <span class="keyword">as</span> e:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"key or index error for:"</span>, e)</span><br></pre></td></tr></tbody></table></figure>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#try-except 结构 分开处理多个异常</span></span><br><span class="line">d = {<span class="string">"name"</span>: <span class="string">"f1"</span>, <span class="string">"age"</span>: <span class="number">2</span>}</span><br><span class="line">l = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    v = d[<span class="string">"gender"</span>]</span><br><span class="line">    l[<span class="number">3</span>] = <span class="number">4</span></span><br><span class="line"><span class="keyword">except</span> KeyError <span class="keyword">as</span> e:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"key error for:"</span>, e)</span><br><span class="line">    d[<span class="string">"gender"</span>] = <span class="string">"x"</span></span><br><span class="line"><span class="keyword">except</span> IndexError <span class="keyword">as</span> e:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"index error for:"</span>, e)</span><br><span class="line">    l.append(<span class="number">4</span>)</span><br><span class="line"><span class="built_in">print</span>(d)</span><br><span class="line"><span class="built_in">print</span>(l)</span><br></pre></td></tr></tbody></table></figure>
还有一个 try-except-else 的模式，在 else 中处理没有报错的情况。报错情况下不会执行else下的代码，不报错会执行。<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># try-except-else 结构</span></span><br><span class="line"></span><br><span class="line">l = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    l[<span class="number">3</span>] = <span class="number">4</span></span><br><span class="line"><span class="keyword">except</span> IndexError <span class="keyword">as</span> e:</span><br><span class="line">    <span class="built_in">print</span>(e)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"no error, now in else"</span>)</span><br></pre></td></tr></tbody></table></figure>
如果 else 是为了执行没有异常的状况，那么 finally 就是为了执行 不管有没有异常 的情况。无论有报错还是没报错，finally 下面的代码都会运行。<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># try-except-finally 结构</span></span><br><span class="line"></span><br><span class="line">l = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]</span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    l[<span class="number">3</span>] = <span class="number">4</span></span><br><span class="line"><span class="keyword">except</span> IndexError <span class="keyword">as</span> e:</span><br><span class="line">    <span class="built_in">print</span>(e)</span><br><span class="line"><span class="keyword">finally</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"reach finally"</span>)</span><br></pre></td></tr></tbody></table></figure>
上面这两种模式主要用在什么 case 当中呢？你想一下，是不是有些时候，不管你有没有报错，你都想让程序去执行什么。我们甚至都不需要为任何异常做任何处理。 这种时候也就是说，你有异常，我不让你终止主程序，你没有异常吧，万事大吉。<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    dddd = dddddd</span><br><span class="line"><span class="keyword">finally</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"I know there is error, so what?"</span>)</span><br></pre></td></tr></tbody></table></figure>
<span class="github-emoji"><span>✅</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/2705.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span><strong>raise手动触发异常</strong><br>   raise 是你为别人犯错留下的证据，或者是告诉别人你怎么犯错的。这个信息对于别人 dubug 你的代码十分有好处。另一种情况是，你写了成百上千行代码，你也不能全记住代码的每一个细节。所以一旦报错，你也需要一个友善的错误信息提示，这时用 raise 准没错。<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">no_negative</span>(<span class="params">num</span>):</span><br><span class="line">    <span class="keyword">if</span> num &lt; <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">raise</span> ValueError(<span class="string">"I said no negative"</span>)</span><br><span class="line">    <span class="keyword">return</span> num</span><br><span class="line"><span class="built_in">print</span>(no_negative(-<span class="number">1</span>))</span><br><span class="line"><span class="comment"># Traceback (most recent call last):</span></span><br><span class="line"><span class="comment"># ValueError: I said no negative</span></span><br></pre></td></tr></tbody></table></figure>
</li>
</ol>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">异常名称</th>
<th style="text-align:center">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">BaseException</td>
<td style="text-align:center">所有异常的基类</td>
</tr>
<tr>
<td style="text-align:center">SystemExit</td>
<td style="text-align:center">解释器请求退出</td>
</tr>
<tr>
<td style="text-align:center">KeyboardInterrupt</td>
<td style="text-align:center">用户中断执行(通常是输入^C)</td>
</tr>
<tr>
<td style="text-align:center">Exception</td>
<td style="text-align:center">常规错误的基类</td>
</tr>
<tr>
<td style="text-align:center">StopIteration</td>
<td style="text-align:center">迭代器没有更多的值</td>
</tr>
<tr>
<td style="text-align:center">GeneratorExit</td>
<td style="text-align:center">生成器(generator)发生异常来通知退出</td>
</tr>
<tr>
<td style="text-align:center">StandardError</td>
<td style="text-align:center">所有的内建标准异常的基类</td>
</tr>
<tr>
<td style="text-align:center">ArithmeticError</td>
<td style="text-align:center">所有数值计算错误的基类</td>
</tr>
<tr>
<td style="text-align:center">FloatingPointError</td>
<td style="text-align:center">浮点计算错误</td>
</tr>
<tr>
<td style="text-align:center">OverflowError</td>
<td style="text-align:center">数值运算超出最大限制</td>
</tr>
<tr>
<td style="text-align:center">ZeroDivisionError</td>
<td style="text-align:center">除(或取模)零 (所有数据类型)</td>
</tr>
<tr>
<td style="text-align:center">AssertionError</td>
<td style="text-align:center">断言语句失败</td>
</tr>
<tr>
<td style="text-align:center">AttributeError</td>
<td style="text-align:center">对象没有这个属性</td>
</tr>
<tr>
<td style="text-align:center">EOFError</td>
<td style="text-align:center">没有内建输入,到达EOF 标记</td>
</tr>
<tr>
<td style="text-align:center">EnvironmentError</td>
<td style="text-align:center">操作系统错误的基类</td>
</tr>
<tr>
<td style="text-align:center">IOError</td>
<td style="text-align:center">输入/输出操作失败</td>
</tr>
<tr>
<td style="text-align:center">OSError</td>
<td style="text-align:center">操作系统错误</td>
</tr>
<tr>
<td style="text-align:center">WindowsError</td>
<td style="text-align:center">系统调用失败</td>
</tr>
<tr>
<td style="text-align:center">ImportError</td>
<td style="text-align:center">导入模块/对象失败</td>
</tr>
<tr>
<td style="text-align:center">LookupError</td>
<td style="text-align:center">无效数据查询的基类</td>
</tr>
<tr>
<td style="text-align:center">IndexError</td>
<td style="text-align:center">序列中没有此索引(index)</td>
</tr>
<tr>
<td style="text-align:center">KeyError</td>
<td style="text-align:center">映射中没有这个键</td>
</tr>
<tr>
<td style="text-align:center">MemoryError</td>
<td style="text-align:center">内存溢出错误(对于Python 解释器不是致命的)</td>
</tr>
<tr>
<td style="text-align:center">NameError</td>
<td style="text-align:center">未声明/初始化对象 (没有属性)</td>
</tr>
<tr>
<td style="text-align:center">UnboundLocalError</td>
<td style="text-align:center">访问未初始化的本地变量</td>
</tr>
<tr>
<td style="text-align:center">ReferenceError</td>
<td style="text-align:center">弱引用(Weak reference)试图访问已经垃圾回收了的对象</td>
</tr>
<tr>
<td style="text-align:center">RuntimeError</td>
<td style="text-align:center">一般的运行时错误</td>
</tr>
<tr>
<td style="text-align:center">NotImplementedError</td>
<td style="text-align:center">尚未实现的方法</td>
</tr>
<tr>
<td style="text-align:center">SyntaxError</td>
<td style="text-align:center">Python 语法错误</td>
</tr>
<tr>
<td style="text-align:center">IndentationError</td>
<td style="text-align:center">缩进错误</td>
</tr>
<tr>
<td style="text-align:center">TabError</td>
<td style="text-align:center">Tab 和空格混用</td>
</tr>
<tr>
<td style="text-align:center">SystemError</td>
<td style="text-align:center">一般的解释器系统错误</td>
</tr>
<tr>
<td style="text-align:center">TypeError</td>
<td style="text-align:center">对类型无效的操作</td>
</tr>
<tr>
<td style="text-align:center">ValueError</td>
<td style="text-align:center">传入无效的参数</td>
</tr>
<tr>
<td style="text-align:center">UnicodeError</td>
<td style="text-align:center">Unicode 相关的错误</td>
</tr>
<tr>
<td style="text-align:center">UnicodeDecodeError</td>
<td style="text-align:center">Unicode 解码时的错误</td>
</tr>
<tr>
<td style="text-align:center">UnicodeEncodeError</td>
<td style="text-align:center">Unicode 编码时错误</td>
</tr>
<tr>
<td style="text-align:center">UnicodeTranslateError</td>
<td style="text-align:center">Unicode 转换时错误</td>
</tr>
<tr>
<td style="text-align:center">Warning</td>
<td style="text-align:center">警告的基类</td>
</tr>
<tr>
<td style="text-align:center">DeprecationWarning</td>
<td style="text-align:center">关于被弃用的特征的警告</td>
</tr>
<tr>
<td style="text-align:center">FutureWarning</td>
<td style="text-align:center">关于构造将来语义会有改变的警告</td>
</tr>
<tr>
<td style="text-align:center">OverflowWarning</td>
<td style="text-align:center">旧的关于自动提升为长整型(long)的警告</td>
</tr>
<tr>
<td style="text-align:center">PendingDeprecationWarning</td>
<td style="text-align:center">关于特性将会被废弃的警告</td>
</tr>
<tr>
<td style="text-align:center">RuntimeWarning</td>
<td style="text-align:center">可疑的运行时行为(runtime behavior)的警告</td>
</tr>
<tr>
<td style="text-align:center">SyntaxWarning</td>
<td style="text-align:center">可疑的语法的警告</td>
</tr>
<tr>
<td style="text-align:center">UserWarning</td>
<td style="text-align:center">用户代码生成的警告</td>
</tr>
</tbody>
</table>
</div>
<p><span class="github-emoji"><span>✅</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/2705.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span><strong>单元测试 (Unittest)</strong><br>代码调试是编写代码的至关重要的一环。尤其是你要写一些功能服务给别人用的时候，免不了要先自测有没有问题。<strong><font color="red">保证我写的，真的是我想要的。</font></strong><br><strong><font color="blue" size="3">使用场景:</font></strong> <code>程序的代码量小，且项目功能之间无耦合关系时，可运行程序打断点进行debug。但是当处理的代码量比较大，牵扯到的资源相对多，我很多时候并不知道哪里会不会有错误。 所以这种情况非常依赖于测试。让自动化测试帮我处理任何改动可能带来的问题。</code></p>
<p><strong><font color="red">unittest 规范：</font></strong>首先 unittest 不会被其他人使用到，纯粹是你自己为了验证自己写的代码有没有问题的方式。一般般采用 XXXX.py与XXXX_test.py的形成进行单元测试。另外，你可以按照 unittest 当中的 case 为蓝本，去完善你原函数的功能。 就好像有了一个目标，你要为了这个目标去开发功能一样。这样就可以先写 unittest 当中的 case，比如下面，我不会先写 my_func 里面的内容，而是先把我的测试和要验收的指标写好。然后后面我再开发功能。<br></p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># main.py  主文件用于编写程序</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">my_func1</span>(<span class="params">a</span>):</span><br><span class="line">    <span class="keyword">if</span> a == <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">2</span></span><br><span class="line">    <span class="keyword">elif</span> a == -<span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">3</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">my_func2</span>(<span class="params">b</span>):</span><br><span class="line">    <span class="keyword">if</span> b != <span class="string">"yes"</span>:</span><br><span class="line">        <span class="keyword">raise</span> ValueError(<span class="string">"you can only say yes!"</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">        </span><br><span class="line"><span class="comment"># main_test.py  测试文件用于编写程序     </span></span><br><span class="line"><span class="keyword">import</span> unittest</span><br><span class="line"><span class="keyword">import</span> main  <span class="keyword">as</span> m</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyTestCase</span>(unittest.TestCase):       <span class="comment"># 固定格式</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">test_something1</span>(<span class="params">self</span>):             <span class="comment"># 可自定义函数功能名称</span></span><br><span class="line">        self.assertEqual(<span class="number">2</span>, m.my_func1(<span class="number">1</span>)) <span class="comment"># 测试功能</span></span><br><span class="line">        self.assertEqual(<span class="number">3</span>, m.my_func1(-<span class="number">1</span>))</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(-<span class="number">100</span>, <span class="number">100</span>):</span><br><span class="line">            <span class="keyword">if</span> i == <span class="number">1</span> <span class="keyword">or</span> i == -<span class="number">1</span>:</span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line">            self.assertEqual(<span class="number">1</span>, m.my_func1(i))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">test_something2</span>(<span class="params">self</span>):</span><br><span class="line">        self.assertTrue(m.my_func2(<span class="string">"yes"</span>))</span><br><span class="line">        <span class="keyword">with</span> self.assertRaises(ValueError):</span><br><span class="line">            m.my_func2(<span class="string">"nononono"</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    unittest.main()</span><br><span class="line">    <span class="comment"># 当仅仅想测试某一个函数功能时，定义一个 suite 替换 unittest.main()</span></span><br><span class="line">    suite = unittest.TestSuite()</span><br><span class="line">    suite.addTest(MyTestCase(<span class="string">'test_something1'</span>))</span><br><span class="line">    unittest.TextTestRunner().run(suite)</span><br></pre></td></tr></tbody></table></figure><p></p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">assert</th>
<th style="text-align:center">含义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">assertEqual(a, b)</td>
<td style="text-align:center">a == b</td>
</tr>
<tr>
<td style="text-align:center">assertNotEqual(a, b)</td>
<td style="text-align:center">a != b</td>
</tr>
<tr>
<td style="text-align:center">assertTrue(condition)</td>
<td style="text-align:center">condition 是不是 True</td>
</tr>
<tr>
<td style="text-align:center">assertFalse(condition)</td>
<td style="text-align:center">condition 是不是 False</td>
</tr>
<tr>
<td style="text-align:center">assertGreater(a, b)</td>
<td style="text-align:center">a &gt; b</td>
</tr>
<tr>
<td style="text-align:center">assertGreaterThan(a, b)</td>
<td style="text-align:center">a &gt;= b</td>
</tr>
<tr>
<td style="text-align:center">assertLess(a, b)</td>
<td style="text-align:center">a &lt; b</td>
</tr>
<tr>
<td style="text-align:center">assertLessEqual(a, b)</td>
<td style="text-align:center">a &lt;= b</td>
</tr>
<tr>
<td style="text-align:center">assertIs(a, b)</td>
<td style="text-align:center">a is b，a 和 b 是不是同一对象</td>
</tr>
<tr>
<td style="text-align:center">assertIsNot(a, b)</td>
<td style="text-align:center">a is not b，a 和 b 是不是不同对象</td>
</tr>
<tr>
<td style="text-align:center">assertIsNone(a)</td>
<td style="text-align:center">a is None，a 是不是 None</td>
</tr>
<tr>
<td style="text-align:center">assertIsNotNone(a)</td>
<td style="text-align:center">a is not None，a 不是 None？</td>
</tr>
<tr>
<td style="text-align:center">assertIn(a, b)</td>
<td style="text-align:center">a in b, a 在 b 里面？</td>
</tr>
<tr>
<td style="text-align:center">assertNotIn(a, b)</td>
<td style="text-align:center">a not in b，a 不在 b 里？</td>
</tr>
<tr>
<td style="text-align:center">assertRaises(err)</td>
<td style="text-align:center">通常和 with 一起用，判断 with 里的功能是否会报错</td>
</tr>
</tbody>
</table>
</div>
<h3 id="2-3-生成器与装饰器"><a href="#2-3-生成器与装饰器" class="headerlink" title="2.3 生成器与装饰器"></a>2.3 生成器与装饰器</h3><p><strong>生成器 Generator</strong>，一种占用更小内存的方式处理循环迭代，可以说生成器就是为循环设计的。生成器是一种优化代码程序节省占用内存的方法，如果当你的循环内存不足时，或者运行很慢时，生成器是你需要考虑的。</p>
<blockquote>
<p>在循环的时候，我们的目的是为了每次循环拿到一些特定数据，然后为这些数据做处理。但是无可避免的会在内存中记录这些数值， 当需要记录的数值很多的时候，我们的内存可能就吃不消了。而生成器就是用来现用现存的<br>，我们只在需要这个数据的时候生成它，生成完了我就不用了，也不需要记录。这种时候将会节约我很多内存的需求。<br></p><figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">need_return</span>():</span><br><span class="line">    <span class="keyword">for</span> item <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">5</span>):</span><br><span class="line">        <span class="keyword">if</span> item % <span class="number">2</span> == <span class="number">0</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">"我要扔出去一个 item=%d 了"</span> % item)</span><br><span class="line">            <span class="keyword">yield</span> item  <span class="comment"># 这里就会返回给下面的 for 循环</span></span><br><span class="line">            <span class="built_in">print</span>(<span class="string">"我又回到里面了"</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> need_return():</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"我在外面接到了一个 item=%d\n"</span> % i)</span><br><span class="line">&gt;&gt;</span><br><span class="line"><span class="comment">#我要扔出去一个 item=0 了</span></span><br><span class="line"><span class="comment">#我在外面接到了一个 item=0</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#我又回到里面了</span></span><br><span class="line"><span class="comment">#我要扔出去一个 item=2 了</span></span><br><span class="line"><span class="comment">#我在外面接到了一个 item=2</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#我又回到里面了</span></span><br><span class="line"><span class="comment">#我要扔出去一个 item=4 了</span></span><br><span class="line"><span class="comment">#我在外面接到了一个 item=4</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#我又回到里面了</span></span><br></pre></td></tr></tbody></table></figure><br>定义生成器类<br>用一个 class 也是可以表示一个迭代器，生成器的。 如果我们将上面的逻辑转化成 <code>class</code>，这个 class 可能相对比较复杂，但是也意味着你可以有更多设置和控制发生在这个 class 里面。 里面我们申明了用于生成器的两个 method，__iter__ 和 __next__。<p></p>
</blockquote>
<p>__iter__ 的意思是，当我在外面 for 循环进行迭代时，我返回什么？在下面例子中，我就把自己这个 class 本身返回回去，继续让自己做迭代就好了。</p>
<p>__next__ 的意思是每次迭代的时候，我的函数会放出来什么元素。下面的功能中实现的就是放出来一个被计算过的 item 元素。<br></p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">NeedReturn</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, init_value=<span class="number">0</span></span>):</span><br><span class="line">        self.tmp = init_value</span><br><span class="line">        self.item = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__iter__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> self</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__next__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">            <span class="keyword">if</span> self.item == self.tmp:</span><br><span class="line">                self.tmp *= <span class="number">2</span></span><br><span class="line">                <span class="keyword">return</span> self.item  % 等价于<span class="keyword">yield</span></span><br><span class="line">            self.item += <span class="number">1</span></span><br><span class="line">            <span class="keyword">if</span> self.item == <span class="number">300</span>:</span><br><span class="line">                <span class="keyword">raise</span> StopIteration</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> NeedReturn(<span class="number">10</span>):</span><br><span class="line">    <span class="built_in">print</span>(i)</span><br><span class="line">&gt;&gt;</span><br><span class="line"><span class="comment">#10</span></span><br><span class="line"><span class="comment">#20</span></span><br><span class="line"><span class="comment">#40</span></span><br><span class="line"><span class="comment">#80</span></span><br><span class="line"><span class="comment">#160</span></span><br></pre></td></tr></tbody></table></figure><p></p>
<p><strong>装饰器 Decorator</strong> 它是一个装饰 Python Function 的东西。 Function 为什么要被装饰？那就是我们想为这个 Function 做些额外的事情。但是只为一个 Function 做这件事，那我们还不如直接改掉这个 Function，让它直接干这件事就好了。 Decorator 的好处就是，我们可以给批量的 Function 都做这件事。当有一批 Function 都要做些前置或者后置的工作，我们可以统一给他们装修，用一个装饰器统一处理从而减轻你的开发量，特别是针对于不同 function，要做同样的前置处理或后置处理的时候。</p>
<blockquote>
<p>比如数据库的处理，来了一条数据，我先要验证这个数据的准确性，然后进行个性化 function 的处理，最后将加工后的数据写入数据库。<br>网页个人页的鉴权，用户每一个点击，我都先需要鉴权，才能做后续不同的 function。<br></p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">authorization</span>(<span class="params">fn</span>):  <span class="comment">#authorization 与@authorization一致即可</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">check_and_do</span>(<span class="params">name</span>):</span><br><span class="line">        <span class="keyword">if</span> name != <span class="string">"hm"</span>:   <span class="comment"># 鉴权</span></span><br><span class="line">            <span class="built_in">print</span>(name + <span class="string">" has no right!"</span>)</span><br><span class="line">            <span class="keyword">return</span> </span><br><span class="line">        res = fn(name)</span><br><span class="line">        <span class="keyword">return</span> res</span><br><span class="line">    <span class="keyword">return</span> check_and_do  <span class="comment">#返回值check_and_do与函数功能check_and_do一致即可</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@authorization   </span><span class="comment">#装饰器格式</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">outer1</span>(<span class="params">name</span>):</span><br><span class="line">    <span class="built_in">print</span>(name+<span class="string">" outer1"</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">@authorization</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">outer2</span>(<span class="params">name</span>):</span><br><span class="line">    <span class="built_in">print</span>(name+<span class="string">" outer2"</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">@authorization</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">outer3</span>(<span class="params">name</span>):</span><br><span class="line">    <span class="built_in">print</span>(name+<span class="string">" outer3"</span>)</span><br><span class="line"></span><br><span class="line">outer1(<span class="string">"hm"</span>)</span><br><span class="line">outer2(<span class="string">"hmm"</span>)</span><br><span class="line">outer3(<span class="string">"hm"</span>)</span><br><span class="line">&gt;&gt;</span><br><span class="line"><span class="comment">#hm outer1</span></span><br><span class="line"><span class="comment">#hmm has no right!</span></span><br><span class="line"><span class="comment">#hm outer3</span></span><br></pre></td></tr></tbody></table></figure><p></p>
</blockquote>
<h3 id="2-4-工程问题编程思路"><a href="#2-4-工程问题编程思路" class="headerlink" title="2.4 工程问题编程思路"></a>2.4 工程问题编程思路</h3><p><strong>问题聚焦：</strong> 我们面临一个什么具体问题需要进行解决，最终简化问题提取关键核心点（实际存在并且是有研究或者工程应用价值）<br><strong>产品定位：</strong> 为解决此问题我们需要做什么，实现什么功能来创造价值。</p>
<p><strong>程序设计:</strong> 梳理需要实现的各个模块功能间的逻辑关系，形成模块-类-功能的编程架构；定制解决方案系统设计功能的开发，尽可能的成系统编程、可复用代码从而优化编程架构。<br><strong>程序开发:</strong> 基于形成的模块-类-功能的编程架构进行具体开发,并根据开发过程中遇到的问题不断完善流程和克服问题。</p>
<hr>
<h2 id="3-python-文件数据处理"><a href="#3-python-文件数据处理" class="headerlink" title="3. python 文件数据处理"></a>3. python 文件数据处理</h2><h3 id="3-1文件数据读写"><a href="#3-1文件数据读写" class="headerlink" title="3.1文件数据读写"></a>3.1文件数据读写</h3><h4 id="3-1-1-基础读写"><a href="#3-1-1-基础读写" class="headerlink" title="3.1.1 基础读写"></a>3.1.1 基础读写</h4><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># with结构（将文件的打开和关闭嵌入到了一个 with 架构中不用担心忘记关闭文件）</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">"new_file2.txt"</span>, <span class="string">"w"</span>) <span class="keyword">as</span> f:</span><br><span class="line">    f.write(<span class="string">"some text...\n 2nd line\n"</span>)         <span class="comment"># 在文件里写入</span></span><br><span class="line">    f.writelines([<span class="string">"some text for file2...\n"</span>, <span class="string">"2nd line\n"</span>])</span><br><span class="line">    <span class="comment"># f.writelines与f.write等价，但必须在元素末尾加 `\n`来换行不然多出来是黏连的。</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">"new_file2.txt"</span>, <span class="string">"r"</span>) <span class="keyword">as</span> f:</span><br><span class="line">    <span class="built_in">print</span>(f.read())        <span class="comment"># 在文件里读取</span></span><br><span class="line">    f.seek(<span class="number">0</span>)       <span class="comment"># 将开始读的位置从写入的最后位置调到开头</span></span><br><span class="line">    <span class="built_in">print</span>(f.readlines())   <span class="comment"># 与f.read()等价</span></span><br><span class="line">    f.seek(<span class="number">0</span>)       </span><br><span class="line">    <span class="built_in">print</span>(f.readline())  <span class="comment">#读取当前行，取代一次性全部读取，不让内存被一次性占满。</span></span><br><span class="line"><span class="comment"># 注：f.read()和f.readlines()使用后指针移到最后一行开始位置；</span></span><br><span class="line"><span class="comment">#     f.readline()使用后指针自动移到下一行开始位置。</span></span><br></pre></td></tr></tbody></table></figure>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 编码格式与中文乱码</span></span><br><span class="line"><span class="comment"># 按二进制 binary读写时 “wb”,"rb", </span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">"chinese.txt"</span>, <span class="string">"wb"</span>) <span class="keyword">as</span> f:</span><br><span class="line">    f.write(<span class="string">"这是中文的，this is Chinese"</span>)<span class="comment"># 报错</span></span><br><span class="line">    f.write(<span class="string">"这是中文的，this is Chinese"</span>.encode(<span class="string">"utf-8"</span>))</span><br><span class="line">    <span class="comment"># 写入时将string → a bytes-like object 并按utf-8格式</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">"chinese.txt"</span>, <span class="string">"rb"</span>, ) <span class="keyword">as</span> f:</span><br><span class="line">    <span class="built_in">print</span>(f.read().decode(<span class="string">'utf-8'</span>))</span><br><span class="line">    <span class="comment"># 读取时将a bytes-like object → string 按utf-8格式  </span></span><br><span class="line">（或者）</span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">"chinese.txt"</span>, <span class="string">"r"</span>, encoding=<span class="string">"utf-8"</span> ) <span class="keyword">as</span> f:</span><br><span class="line">    <span class="built_in">print</span>(f.read())  </span><br></pre></td></tr></tbody></table></figure>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">MODE</th>
<th style="text-align:center">含义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">w</td>
<td style="text-align:center">（创建）写文本</td>
</tr>
<tr>
<td style="text-align:center">r</td>
<td style="text-align:center">读文本，文件不存在会报错</td>
</tr>
<tr>
<td style="text-align:center">a</td>
<td style="text-align:center">在文本最后添加</td>
</tr>
<tr>
<td style="text-align:center">wb</td>
<td style="text-align:center">写二进制 binary</td>
</tr>
<tr>
<td style="text-align:center">rb</td>
<td style="text-align:center">读二进制 binary</td>
</tr>
<tr>
<td style="text-align:center">ab</td>
<td style="text-align:center">添加二进制</td>
</tr>
<tr>
<td style="text-align:center">w+</td>
<td style="text-align:center"><strong>又可以读又可以（创建）写</strong></td>
</tr>
<tr>
<td style="text-align:center">r+</td>
<td style="text-align:center"><strong>又可以读又可以写, 文件不存在会报错</strong></td>
</tr>
<tr>
<td style="text-align:center">a+</td>
<td style="text-align:center">可读写，在文本最后添加</td>
</tr>
<tr>
<td style="text-align:center">x</td>
<td style="text-align:center">创建</td>
</tr>
</tbody>
</table>
</div>
<h4 id="3-1-2-Numpy库中的数据读写"><a href="#3-1-2-Numpy库中的数据读写" class="headerlink" title="3.1.2 Numpy库中的数据读写"></a>3.1.2 Numpy库中的数据读写</h4><h4 id="3-1-3-Panda库中的数据读写"><a href="#3-1-3-Panda库中的数据读写" class="headerlink" title="3.1.3 Panda库中的数据读写"></a>3.1.3 Panda库中的数据读写</h4><h3 id="3-2文件目录管理（OS库）"><a href="#3-2文件目录管理（OS库）" class="headerlink" title="3.2文件目录管理（OS库）"></a>3.2文件目录管理（OS库）</h3><figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os </span><br><span class="line"><span class="keyword">import</span> shutil</span><br><span class="line"><span class="built_in">print</span>(<span class="string">"当前目录："</span>, os.getcwd())</span><br><span class="line"><span class="built_in">print</span>(<span class="string">"当前目录里有什么："</span>, os.listdir())</span><br><span class="line"></span><br><span class="line"><span class="comment">#创建一个 project 的文件夹其中exist_ok=True 当project存在时不报错。（默认为False）</span></span><br><span class="line">os.makedirs(<span class="string">"user"</span>, exist_ok=<span class="literal">True</span>) <span class="comment"># 创建Dictionary文件夹</span></span><br><span class="line"><span class="comment"># 用户注册</span></span><br><span class="line"><span class="keyword">if</span> os.path.exists(<span class="string">"user/hm"</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"user exist"</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    os.makedirs(<span class="string">"user/hm"</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"user created"</span>)</span><br><span class="line"><span class="built_in">print</span>(os.listdir(<span class="string">"user"</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 用户注销</span></span><br><span class="line"><span class="keyword">if</span> os.path.exists(<span class="string">"user/hm"</span>):</span><br><span class="line">    os.removedirs(<span class="string">"user/hm"</span>)  <span class="comment">#只能删除文件夹为空的文件夹</span></span><br><span class="line">    <span class="comment"># 注意 shutil 库太强大了，它会清空整个目录防止误删，防止误删，防止误删！</span></span><br><span class="line">    shutil.rmtree(<span class="string">"user/mofan"</span>) </span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"user removed"</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"user not exist"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 用户更名</span></span><br><span class="line">os.rename(<span class="string">"user/hm"</span>, <span class="string">"user/hm_new"</span>)</span><br><span class="line"><span class="built_in">print</span>(os.listdir(<span class="string">"user"</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">#文件目录多种检验(os.path)</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">"user/hm/a.txt"</span>, <span class="string">"w"</span>) <span class="keyword">as</span> f:</span><br><span class="line">    f.write(<span class="string">"nothing"</span>)</span><br><span class="line"><span class="built_in">print</span>(os.path.isfile(<span class="string">"user/hm/a.txt"</span>)) <span class="comment"># True</span></span><br><span class="line"><span class="built_in">print</span>(os.path.exists(<span class="string">"user/hm/a.txt"</span>)) <span class="comment"># True</span></span><br><span class="line"><span class="built_in">print</span>(os.path.isdir(<span class="string">"user/hm/a.txt"</span>)) <span class="comment"># False</span></span><br><span class="line"><span class="built_in">print</span>(os.path.isdir(<span class="string">"user/hm"</span>))  <span class="comment"># True</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#文件的复制</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">copy</span>(<span class="params">path</span>):</span><br><span class="line">    dir_name, filename = os.path.split(path)</span><br><span class="line">    new_filename = <span class="string">"new2_"</span> + filename    <span class="comment"># 新文件名</span></span><br><span class="line">    new_path = os.path.join(dir_name, new_filename) <span class="comment"># 目录重组</span></span><br><span class="line">    shutil.copy2(path, new_path)   <span class="comment"># 复制文件</span></span><br><span class="line">    <span class="keyword">return</span> os.path.isfile(new_path), new_path</span><br><span class="line">copied, new_path = copy(<span class="string">"user/hm/a.txt"</span>)</span><br><span class="line"><span class="keyword">if</span> copied:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"copied to:"</span>, new_path)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"copy failed"</span>)</span><br></pre></td></tr></tbody></table></figure>
<p><strong>（感性认识）Dictionary和package的使用，存储资源等不需要执行诸多种类的程序时采用Dictionary 否则用package</strong></p>
<blockquote>
<p> Dictionary在pycharm中是一个文件夹目录，放置资源文件，对应于在进行JavaWeb开发时用于放置css/js文件的目录，或者说在进行物体识别时，用来存储背景图像的文件夹。该文件夹其中并不包含_ _ init.py_ _文件。<br> Python package 包文件夹而言，与Dictionary不同之处在于其会自动创建_ _ init.py_ _ 文件。其包括一组模块和一个 _ _ init.py_ _ 文件。该包的使用与Python的import机制有关，这关乎到你的哪些.py文件是对外可访问的。有些时候，如果一个包下有很多模块，在调用方import如此多模块是很费事，且不优雅的，此时可以通过修改 _ _ init_ _.py来完成该任务。<br>&nbsp;</p>
</blockquote>
<h3 id="3-3正则表达式匹配-未完成"><a href="#3-3正则表达式匹配-未完成" class="headerlink" title="3.3正则表达式匹配(未完成)"></a>3.3正则表达式匹配(未完成)</h3><p>  在文件、文字查找、匹配、替换、处理时，少不了要根据特定规则来处理对应文字的情况。 正则表达式 Regular Expression（regex —— <strong>re库</strong>）就是通过用一些规则或者模板来帮你找到文字，替换文字的工具。</p>
<p><strong>正则库功能表</strong><br>|     功能      |                                           说明                                           |                                             举例                                             |<br>| :—————-: | :———————————————————————————————————————————: | :—————————————————————————————————————————————: |<br>|  re.search()  |                       扫描查找整个字符串，<strong>找到第一个模式匹配</strong>的                       |                           re.search(r”run”, I run to you) &gt; ‘run’                            |<br>|  re.match()   | 从字符的<strong>最开头匹配，找到第一个模式匹配</strong>的即使用 re.M 多行匹配，也是从最最开头开始匹配 |                            re.match(r”run”, I run to you) &gt; None                             |<br>| re.findall()  |                         <strong>返回一个不重复的 pattern 的匹配列表</strong>                          |              re.findall(rr[ua]n, I run to you. you ran to him) &gt; [‘run’, ‘ran’]              |<br>| re.finditer() |                         和 findall 一样，只是用迭代器的方式使用                          |               for item in re.finditer(rr[ua]n, I run to you. you ran to him):                |<br>|  re.split()   |                                     用正则分开字符串                                     |     re.split(rr[ua]n, I run to you. you ran to him) &gt; [‘I ‘, ‘ to you. you ‘, ‘ to him’]     |<br>|   re.sub()    |                                      用正则替换字符                                      |    re.sub(rr[ua]n, jump, I run to you. you ran to him) &gt; ‘I jump to you. you jump to him’    |<br>|   re.subn()   |                            和 sub 一样，额外返回一个替代次数                             | re.subn(rr[ua]n, jump, I run to you. you ran to him) &gt; (‘I jump to you. you jump to him’, 2) |</p>
<p><strong>通用匹配方式表</strong><br>| 特定匹配标识 |                 表达含义                 |                         实际范围                          |<br>| :—————: | :———————————————————: | :———————————————————————————-: |<br>|      \d      |                 任何数字                 |                           [0-9]                           |<br>|      \D      |                不是数字的                |                                                           |<br>|      \s      |               任何空白字符               |                       [ \t\n\r\f\v]                       |<br>|      \S      |              空白字符以外的              |                                                           |<br>|    <strong>\w</strong>    |         任何大小写字母,数字和 _          |                       [a-zA-Z0-9_]                        |<br>|      \W      |                \w 以外的                 |                                                           |<br>|      \b      |             匹配一个单词边界             | 比如 er\b 可以匹配 never 中的 er，但不能匹配 verb 中的 er |<br>|      \B      |              匹配非单词边界              |  比如 er\B 能匹配 verb 中的 er，但不能匹配 never 中的 er  |<br>|      \\      |                强制匹配 \                |                                                           |<br>|    <strong>.</strong>     |          匹配任何字符 (除了 \n)          |                                                           |<br>|    <strong>?</strong>     |            前面的模式可有可无            |                                                           |<br>|    <strong>*</strong>     |              重复零次或多次              |                                                           |<br>|    <strong>+</strong>     |              重复一次或多次              |                                                           |<br>|    {n,m}     |              重复 n 至 m 次              |                                                           |<br>|     {n}      |                重复 n 次                 |                                                           |<br>|    <strong>+?</strong>    |          非贪婪，最小方式匹配 +          |                                                           |<br>|      <em>?      |          非贪婪，最小方式匹配 </em>          |                                                           |<br>|      ??      |          非贪婪，最小方式匹配 ?          |                                                           |<br>|      ^       | 匹配一行开头，在 re.M 下，每行开头都匹配 |                                                           |<br>|      $       | 匹配一行结尾，在 re.M 下，每行结尾都匹配 |                                                           |<br>|      \A      |  匹配最开始，在 re.M 下，也从文本最开始  |                                                           |<br>|      \B      |  匹配最结尾，在 re.M 下，也从文本最结尾  |                                                           |</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># （举例说明）注册管理，验证邮箱是否有效。</span></span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="comment"># 先compile解析好一个正则 pattern，然后直接用这个 pattern 去执行查找。</span></span><br><span class="line"><span class="comment">#当需要循环查找时将compile放在循环前，search放在循环内执行从而节省执行时间</span></span><br><span class="line">ptn = re.<span class="built_in">compile</span>(<span class="string">r"\w+?@\w+?\.com"</span>)</span><br><span class="line"><span class="comment"># “\w ” 表示任何大小写字母,数字和 _ “+?”表示前面的模式至少匹配一次。</span></span><br><span class="line"><span class="comment"># 当识别 “@” 的时候做其前面的非贪婪模式匹配“\.”表示.的字面含义。如果只有“.”表示匹配任何字符。</span></span><br><span class="line">matched = ptn.search(<span class="string">"huangming98@163.com"</span>)</span><br><span class="line"><span class="built_in">print</span>(matched)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 将compile解析和模式查找放在一条语句里。</span></span><br><span class="line">matched = re.search(<span class="string">r"\w+?@\w+?\.com"</span>, <span class="string">"huangming98@163.com"</span>) </span><br><span class="line"><span class="comment">#用 r"xxx" 来写一个 pattern，r 代表原生字符串，当成一个规则来记住所写 pattern 时，都需写上一个 r 在前面。</span></span><br><span class="line"><span class="built_in">print</span>( matched)</span><br><span class="line"><span class="comment"># Ans: &lt;re.Match object; span=(0, 19), match='huangming98@163.com'&gt;</span></span><br><span class="line"><span class="comment"># span=(0, 19)代表着在原始字符串中，我们找到的 pattern 是从哪一位到哪一位</span></span><br></pre></td></tr></tbody></table></figure>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#同时满足多种条件的pattern写法</span></span><br><span class="line">re.search(<span class="string">r"ran|run"</span>, <span class="string">"I run to you"</span>)</span><br><span class="line">re.search(<span class="string">r"r[au]n"</span>, <span class="string">"I run to you"</span>)</span><br><span class="line">re.search(<span class="string">r"f(ou|i)nd"</span>, <span class="string">"I found you"</span>)</span><br></pre></td></tr></tbody></table></figure>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#中文识别</span></span><br><span class="line">re.search(<span class="string">r"不.*?爱"</span>, <span class="string">"我不是很爱你"</span>)</span><br><span class="line"><span class="comment">#&lt;re.Match object; span=(1, 5), match='不是很爱'&gt;</span></span><br><span class="line">re.search(<span class="string">r"[\u4e00-\u9fa5]+"</span>, <span class="string">"我爱Python是的。"</span>)</span><br><span class="line"><span class="comment">#&lt;re.Match object; span=(0, 2), match='我爱'&gt;</span></span><br><span class="line">re.search(<span class="string">r"[\u4e00-\u9fa5！？。，￥【】「」]+"</span>, <span class="string">"我爱你，是的！"</span>)</span><br><span class="line"><span class="comment">#&lt;re.Match object; span=(0, 7), match='我爱你，是的！'&gt;</span></span><br></pre></td></tr></tbody></table></figure>
<p><strong>在模式中获取特定信息</strong><br>我们能用 <code>group</code> 和<code>()</code>获取到特定位置的信息。只要我们在正则表达中，加入一个 <code>()</code> 选定要截取返回的位置， 他就直接返回括号里的内容。<br></p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## re.finditer提供了 file.group(0) 这种全匹配的信息，而re.findall未提供全匹配信息。</span></span><br><span class="line">string = <span class="string">"I have 2021-02-01.jpg, 2021-02-02.jpg, 2021-02-03.jpg"</span></span><br><span class="line"><span class="keyword">match</span> = re.finditer(<span class="string">r"(\d+?)-(\d+?)-(\d+?)\.jpg"</span>, string)</span><br><span class="line"><span class="keyword">for</span> file <span class="keyword">in</span> <span class="keyword">match</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"matched string:"</span>, file.group(<span class="number">0</span>), <span class="string">",year:"</span>, file.group(<span class="number">1</span>),</span><br><span class="line">    <span class="string">", month:"</span>, file.group(<span class="number">2</span>), <span class="string">", day:"</span>, file.group(<span class="number">3</span>))</span><br><span class="line"><span class="comment"># &gt; matched string: 2021-02-01.jpg ,year: 2021 , month: 02 , day: 01</span></span><br><span class="line"><span class="comment"># &gt; matched string: 2021-02-02.jpg ,year: 2021 , month: 02 , day: 02</span></span><br><span class="line"><span class="comment"># &gt; matched string: 2021-02-03.jpg ,year: 2021 , month: 02 , day: 03</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">match</span> = re.findall(<span class="string">r"(\d+?)-(\d+?)-(\d+?)\.jpg"</span>, string)</span><br><span class="line"><span class="keyword">for</span> file <span class="keyword">in</span> <span class="keyword">match</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"year:"</span>, file[<span class="number">0</span>], <span class="string">", month:"</span>, file[<span class="number">1</span>], <span class="string">", day:"</span>, file[<span class="number">2</span>])</span><br><span class="line"><span class="comment"># &gt; year: 2021 , month: 02 , day: 01</span></span><br><span class="line"><span class="comment"># &gt; year: 2021 , month: 02 , day: 02</span></span><br><span class="line"><span class="comment"># &gt; year: 2021 , month: 02 , day: 03</span></span><br></pre></td></tr></tbody></table></figure><br><strong>名字索引</strong><br>有时候 <code>group</code> 的信息太多了，括号写得太多，依靠数字位置索引识别信息容易错配？此时，我们还能用一个名字来索引匹配好的字段， 然后用 group(“索引”) 的方式获取到对应的片段。注意，<code>re.findall</code> 不提供名字索引的方法， <code>re.search</code>或者 <code>re.finditer</code> 可以用名字索引。为了索引，我们需要在括号中写上 <code>?P&lt;索引名&gt;</code> 这种模式。<br><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">match</span> = re.finditer(<span class="string">r"(?P&lt;y&gt;\d+?)-(?P&lt;m&gt;\d+?)-(?P&lt;d&gt;\d+?)\.jpg"</span>, string)</span><br><span class="line"><span class="keyword">for</span> file <span class="keyword">in</span> <span class="keyword">match</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"matched string:"</span>, file.group(<span class="number">0</span>), </span><br><span class="line">        <span class="string">", year:"</span>, file.group(<span class="string">"y"</span>), </span><br><span class="line">        <span class="string">", month:"</span>, file.group(<span class="string">"m"</span>), </span><br><span class="line">        <span class="string">", day:"</span>, file.group(<span class="string">"d"</span>))</span><br></pre></td></tr></tbody></table></figure><br><strong>多模式匹配</strong><br>在正则中还有一些特别的 <code>flags</code>，可以在 <strong><code>re.search</code>,<code>re.match()</code>,<code>re.findall()</code></strong> 等功能中使用。 主要目的也是方便我们编写正则，和用更简单的方法处理更复杂的表达式。<br>| 模式  |        全称        |                               说明                               |<br>| :—-: | :————————: | :———————————————————————————————: |<br>| re.I  |   re.IGNORECASE    |                            忽略大小写                            |<br>| re.M  |    re.MULTILINE    |                   多行模式，改变’^’和’$’的行为                   |<br>| re.S  |     re.DOTALL      |       点任意匹配模式，改变’.’的行为, 使”.“可以匹配任意字符       |<br>| re.L  |     re.LOCALE      |        使预定字符类 \w \W \b \B \s \S 取决于当前区域设定         |<br>| re.U  |     re.UNICODE     | 使预定字符类 \w \W \b \B \s \S \d \D 取决于unicode定义的字符属性 |<br>| re.X  | re.VERBOSE详细模式 |  这个模式下正则表达式可以是多行，忽略空白字符，并可以加入注释。  |<br><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 用 ^ran 固定样式开头，我是匹配不到第二行的 ran to you 的，所以我们得加上一个 re.M flag。 </span></span><br><span class="line"><span class="comment"># 注意我们提到过的 re.search() 和 re.match() 不一样，re.match() 是不管有没有 re.M flag，我的匹配都是按照最头上开始匹配。 </span></span><br><span class="line"><span class="comment">#所以在下面的实验中，re.match() 匹配不到任何东西。</span></span><br><span class="line">ptn = <span class="string">r"^ran"</span></span><br><span class="line">string = <span class="string">"""I</span></span><br><span class="line"><span class="string">ran to you"""</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">"without re.M:"</span>, re.search(ptn, string))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">"with re.M:"</span>, re.search(ptn, string, flags=re.M))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">"with re.M and match:"</span>, re.<span class="keyword">match</span>(ptn, string, flags=re.M))</span><br><span class="line"><span class="comment"># &gt; without re.M: None</span></span><br><span class="line"><span class="comment"># &gt; with re.M: &lt;re.Match object; span=(2, 5), match='ran'&gt;</span></span><br><span class="line"><span class="comment"># &gt; with re.M and match: None</span></span><br></pre></td></tr></tbody></table></figure><br><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 如果你想用多种 flags，也是可以的，</span></span><br><span class="line"><span class="comment">#&gt; 比如我想同时用 re.M, re.I，你只需要这样书写re.M|re.I：</span></span><br><span class="line">ptn = <span class="string">r"^ran"</span></span><br><span class="line">string = <span class="string">"""I</span></span><br><span class="line"><span class="string">Ran to you"""</span></span><br><span class="line"><span class="built_in">print</span>(re.search(ptn, string, flags=re.M|re.I))</span><br><span class="line"><span class="built_in">print</span>(re.search(<span class="string">r"(?im)^ran"</span>, string))</span><br><span class="line">re.search(<span class="string">r"(?im)^ran"</span>, string)</span><br><span class="line"><span class="comment"># &gt; &lt;re.Match object; span=(2, 5), match='Ran'&gt;</span></span><br></pre></td></tr></tbody></table></figure><br>小案例<br>这个问题就是针对文件夹内所有的文件，将里面提到的 huangming98.github.io 改成 huangm.cn。<br>首先需要简化问题，简化出来的话，其实就是要有三个步骤。<p></p>
<ol>
<li>遍历所有的文本文件</li>
<li>读取文件中文本字段</li>
<li>替换掉特定字段</li>
</ol>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="comment">#找到所有的文本并遍历</span></span><br><span class="line"><span class="keyword">for</span> filename <span class="keyword">in</span> os.listdir(<span class="string">"files"</span>):</span><br><span class="line">    file_path = os.path.join(<span class="string">"files"</span>, filename)</span><br><span class="line">    <span class="comment">#读取文件中文本字段</span></span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(file_path, <span class="string">"r"</span>) <span class="keyword">as</span> f1:</span><br><span class="line">        string = f1.read()</span><br><span class="line">        <span class="comment">#替换掉特定字段</span></span><br><span class="line">        new_string = re.sub(<span class="string">r"huangming98.github.io"</span>, <span class="string">"huangm.cn"</span>, string)</span><br><span class="line">        <span class="comment">#测试验证；将原文本替换过的文字拷贝到新文件中，原文件不改变</span></span><br><span class="line">        <span class="keyword">with</span> <span class="built_in">open</span>(os.path.join(<span class="string">"files"</span>, <span class="string">"new_"</span>+filename), <span class="string">"w"</span>) <span class="keyword">as</span> f2:</span><br><span class="line">            f2.write(new_string)</span><br><span class="line"></span><br><span class="line"><span class="comment">#判断操作是否正确</span></span><br><span class="line"><span class="keyword">for</span> filename <span class="keyword">in</span> os.listdir(<span class="string">"files"</span>):</span><br><span class="line">    <span class="keyword">if</span> filename.startswith(<span class="string">"new_"</span>):</span><br><span class="line">        <span class="keyword">continue</span></span><br><span class="line">    file_path = os.path.join(<span class="string">"files"</span>, <span class="string">"new_"</span>+filename)</span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(file_path, <span class="string">"r"</span>) <span class="keyword">as</span> f:</span><br><span class="line">        <span class="built_in">print</span>(file_path, <span class="string">": "</span>, f.read())</span><br></pre></td></tr></tbody></table></figure>
<p>&nbsp;</p>
<h3 id="3-3序列化数据传输（Json-and-Pickle）"><a href="#3-3序列化数据传输（Json-and-Pickle）" class="headerlink" title="3.3序列化数据传输（Json and Pickle）"></a>3.3序列化数据传输（Json and Pickle）</h3><p>  序列化（Serialization）：把不同类型的数据打包保存在电脑硬盘中，或者用于数据的传输（云服务）。</p>
<p><strong>Pickle</strong><br></p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line">data = {<span class="string">"filename"</span>: <span class="string">"f1.txt"</span>, <span class="string">"create_time"</span>: <span class="string">"today"</span>, <span class="string">"size"</span>: <span class="number">111</span>}</span><br><span class="line">    pickle.dumps(datas)           <span class="comment"># 将python对象编码成Bytes字符串</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">"data.pkl"</span>, <span class="string">"wb"</span>) <span class="keyword">as</span> f:</span><br><span class="line">    pickle.dump(data, f)           <span class="comment"># pickle打包到文件data.pkl里</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">"data.pkl"</span>, <span class="string">"rb"</span>) <span class="keyword">as</span> f:</span><br><span class="line">    data = pickle.load(f)        <span class="comment"># 用 open 的方式把文件都读出来，然后再用 pickle 对其解析</span></span><br><span class="line">os.listdir()</span><br><span class="line"><span class="built_in">print</span>(data)</span><br></pre></td></tr></tbody></table></figure><br><strong>Json</strong><br>  JSON （JavaScript Object Notation）是用于存储和交换数据的语法。最初是用 JavaScript 对象表示法编写的文本，但随后成为了一种常见格式，被包括Python在内的众多语言采用。<br><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> json</span><br><span class="line">data = {<span class="string">"filename"</span>: <span class="string">"f1.txt"</span>, <span class="string">"create_time"</span>: <span class="string">"today"</span>, <span class="string">"size"</span>: <span class="number">111</span>}</span><br><span class="line">    json.dumps(data)             <span class="comment"># 将python对象编码成json字符串（字符串）</span></span><br><span class="line">    json.loads(data)             <span class="comment"># 将Json字符串解码成python对象</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">"data.json"</span>, <span class="string">"w"</span>) <span class="keyword">as</span> f:</span><br><span class="line">    json.dump(data, f)             <span class="comment"># 将python中的对象转化成json储存到文件f中（文件流）</span></span><br><span class="line"> </span><br><span class="line"><span class="built_in">print</span>(<span class="string">"直接当纯文本读："</span>)</span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">"data.json"</span>, <span class="string">"r"</span>) <span class="keyword">as</span> f:</span><br><span class="line">    <span class="built_in">print</span>(f.read())</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">"用 json 加载了读："</span>)</span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">"data.json"</span>, <span class="string">"r"</span>) <span class="keyword">as</span> f:</span><br><span class="line">    new_data = json.load(f)        <span class="comment"># 加载json格式数据</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">"字典读取："</span>, new_data[<span class="string">"filename"</span>])</span><br></pre></td></tr></tbody></table></figure><br>json.dumps()的一些参数 <strong>（重点）</strong><br>  因为dumps编码以后的json格式输出比较的紧凑，如果不止一行看起来就不是特别好看，就像一堆乱码似的。所以，就推出了一些可选参数来让json码的可读性更高。<br><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">json.dumps(obj, sort_keys=<span class="literal">False</span>, skipkeys=<span class="literal">False</span>, ensure_ascii=<span class="literal">True</span>, check_circular=<span class="literal">True</span>, </span><br><span class="line">allow_nan=<span class="literal">True</span>, cls=<span class="literal">None</span>, indent=<span class="literal">None</span>, separators=<span class="literal">None</span>, </span><br><span class="line">encoding=<span class="string">"utf-8"</span>, default=<span class="literal">None</span>)</span><br><span class="line"></span><br><span class="line">obj:就是你要转化成json的对象。</span><br><span class="line">sort_keys =<span class="literal">True</span>:是告诉编码器按照字典排序(a到z)输出。如果是字典类型的python对象，就把关键字按照字典排序。</span><br><span class="line">indent:参数根据数据格式缩进显示，读起来更加清晰。</span><br><span class="line">        {<span class="string">"name"</span>: <span class="string">"\u4f60\u731c"</span>, <span class="string">"age"</span>: <span class="number">19</span>, <span class="string">"city"</span>: <span class="string">"\u56db\u5ddd"</span>} 变为</span><br><span class="line">        {</span><br><span class="line">        <span class="string">"name"</span>: <span class="string">"\u4f60\u731c"</span>,</span><br><span class="line">        <span class="string">"age"</span>: <span class="number">19</span>,</span><br><span class="line">        <span class="string">"city"</span>: <span class="string">"\u56db\u5ddd"</span></span><br><span class="line">        }</span><br><span class="line">separators=(<span class="string">','</span>,<span class="string">':'</span>):是分隔符的意思，参数意思分别为不同<span class="built_in">dict</span>项之间的分隔符和<span class="built_in">dict</span>项内key和value之间的分隔符，把：和，后面的空格都除去了。</span><br><span class="line">    {<span class="string">"name"</span>: <span class="string">"\u4f60\u731c"</span>, <span class="string">"age"</span>: <span class="number">19</span>, <span class="string">"city"</span>: <span class="string">"\u56db\u5ddd"</span>}</span><br><span class="line">    {<span class="string">"name"</span>:<span class="string">"\u4f60\u731c"</span>,<span class="string">"age"</span>:<span class="number">19</span>,<span class="string">"city"</span>:<span class="string">"\u56db\u5ddd"</span>}</span><br><span class="line">skipkeys：默认值是<span class="literal">False</span>，如果<span class="built_in">dict</span>的keys内的数据不是python的基本类型(<span class="built_in">str</span>,unicode,<span class="built_in">int</span>,long,<span class="built_in">float</span>,<span class="built_in">bool</span>,<span class="literal">None</span>)，设置为<span class="literal">False</span>时，就会报TypeError错误。此时设置成<span class="literal">True</span>，则会跳过这类key。</span><br><span class="line">ensure_ascii=<span class="literal">True</span>：默认输出ASCLL码，如果把这个该成<span class="literal">False</span>,就可以输出中文。</span><br><span class="line">check_circular：如果check_circular为false，则跳过对容器类型的循环引用检查，循环引用将导致溢出错误(或更糟的情况)。</span><br><span class="line"></span><br><span class="line">allow_nan：如果allow_nan为假，则ValueError将序列化超出范围的浮点值(nan、inf、-inf)，严格遵守JSON规范，而不是使用JavaScript等价值(nan、Infinity、-Infinity)。</span><br><span class="line"></span><br><span class="line">default：default(obj)是一个函数，它应该返回一个可序列化的obj版本或引发类型错误。默认值只会引发类型错误。</span><br></pre></td></tr></tbody></table></figure><p></p>
<p><strong>Pickle 与 Json 对比如下：</strong><br>|     对比     |            Pickle            |                    Json                     |<br>| :—————: | :—————————————: | :————————————————————-: |<br>|   存储格式   |   Python 特定的 Bytes 格式   | 通用 JSON text 格式，可用于常用的网络通讯中 |<br>|   数据种类   | 类，功能，字典，列表，元组等 |    基本和 Pickle 一样，但不能存类，功能     |<br>| 保存后可读性 |         不能直接阅读         |                 能直接阅读                  |<br>|   跨语言性   |       只能用在 Python        |              可以跨多语言读写               |<br>|   处理时间   |       长（需编码数据）       |               短（不需编码）                |<br>|    安全性    |  不安全（除非你信任数据源）  |                  相对安全                   |</p>
<p>&nbsp;</p>
<h1 id="python-相关连接"><a href="#python-相关连接" class="headerlink" title="python 相关连接"></a>python 相关连接</h1><h2 id="1-python基础"><a href="#1-python基础" class="headerlink" title="1. python基础"></a>1. <a target="_blank" rel="noopener" href="https://www.runoob.com/python3/python3-tutorial.html">python基础</a></h2><h2 id="2-python100天"><a href="#2-python100天" class="headerlink" title="2. python100天"></a>2. <a target="_blank" rel="noopener" href="https://www.bookstack.cn/read/Python-100-Days/README.md">python100天</a></h2><h2 id="3-虚拟环境配置"><a href="#3-虚拟环境配置" class="headerlink" title="3.虚拟环境配置"></a>3.虚拟环境配置</h2><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">conda create -n rich python=3.7  <span class="comment">#创建环境</span></span><br><span class="line">conda activate rich  <span class="comment">#激活环境</span></span><br><span class="line">conda deactivate rich  <span class="comment">#退出环境</span></span><br><span class="line">conda remove -n rich --all  <span class="comment">#删除环境</span></span><br></pre></td></tr></tbody></table></figure>
<h2 id="4-requirements"><a href="#4-requirements" class="headerlink" title="4. requirements"></a>4. requirements</h2><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install -r requirements.txt</span><br></pre></td></tr></tbody></table></figure>
<p>例如<br></p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">pytest==6.2.5</span><br><span class="line">pytest-json-report==1.4.1</span><br><span class="line">pytest-metadata==1.11.0</span><br><span class="line">pytest-ordering==0.6</span><br><span class="line">PyTestReport==0.2.1</span><br><span class="line">python-dateutil==2.8.2</span><br></pre></td></tr></tbody></table></figure><p></p>
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/liuqian62/loopmark">python图形界面示例</a><h2 id="5-mmdetetion"><a href="#5-mmdetetion" class="headerlink" title="5. mmdetetion"></a>5. mmdetetion</h2></li>
</ul>
<h3 id="5-1-教程"><a href="#5-1-教程" class="headerlink" title="5.1 教程"></a>5.1 教程</h3><ul>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_16137569/article/details/121316235">博客链接</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/open-mmlab/mmdetection">官网链接</a></li>
<li><a target="_blank" rel="noopener" href="https://mmdetection.readthedocs.io/en/latest/">官方文档</a><h3 id="5-2-测试程序用时"><a href="#5-2-测试程序用时" class="headerlink" title="5.2 测试程序用时"></a>5.2 测试程序用时</h3></li>
</ul>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python -m torch.distributed.launch --nproc_per_node=1 --master_port=29500 tools/analysis_tools/benchmark.py <span class="variable">$cofig</span> <span class="variable">$checkpoint</span> --launcher pytorch</span><br></pre></td></tr></tbody></table></figure>
<h3 id="5-3-分布式训练"><a href="#5-3-分布式训练" class="headerlink" title="5.3 分布式训练"></a>5.3 分布式训练</h3><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Export CUDA_VISIBLE_DEVICES=”<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>”</span><br><span class="line"></span><br><span class="line">CUDA_VISIBLE_DEVICES=”<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>” python -m torch.distributed.launch --nproc_per_node=<span class="number">4</span> tools/train.py $cofig $checkpoint --launcher pytorch</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<h3 id="5-4-训练"><a href="#5-4-训练" class="headerlink" title="5.4 训练"></a>5.4 训练</h3><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Export CUDA_VISIBLE_DEVICES=<span class="number">2</span></span><br><span class="line"></span><br><span class="line">CUDA_VISIBLE_DEVICES=<span class="number">2</span> python tools/train.py $cofig $checkpoint --gpus <span class="number">2</span></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<h3 id="5-5-测算模型参数量和计算量"><a href="#5-5-测算模型参数量和计算量" class="headerlink" title="5.5 测算模型参数量和计算量"></a>5.5 测算模型参数量和计算量</h3><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">python tools/analysis_tools/get_flops.py ${CONFIG_FILE} [--shape ${INPUT_SHAPE}]</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<h3 id="5-6-指定GPU运行"><a href="#5-6-指定GPU运行" class="headerlink" title="5.6 指定GPU运行"></a>5.6 指定GPU运行</h3><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">export CUDA_VISIBLE_DEVICES=1 </span><br><span class="line"></span><br><span class="line">CUDA_VISIBLE_DEVICE=1 python xxx.py …</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<h3 id="5-7-Git"><a href="#5-7-Git" class="headerlink" title="5.7. Git"></a>5.7. Git</h3><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">git init (初始化本地仓库)</span><br><span class="line">git remote add origin git@github.com:<span class="built_in">open</span>-mmlab/mmdetection.git</span><br><span class="line">git add .  (提交缓存)</span><br><span class="line">git status</span><br><span class="line">git commit -m “   备注   ”</span><br><span class="line"></span><br><span class="line">git pull --rebase origin master (同步)</span><br><span class="line"><span class="keyword">or</span>   git pull + git pull origin master --allow-unrelated-histories 【允许不相关历史提交，并强制合并】</span><br><span class="line">git push -u origin master （推送）</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>冲突</li>
</ul>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">git add . </span><br><span class="line"></span><br><span class="line">git rebase --<span class="keyword">continue</span></span><br><span class="line"></span><br><span class="line">git pull --rebase origin master </span><br><span class="line"></span><br><span class="line">git push origin master</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<h2 id="6-OpenCV教程"><a href="#6-OpenCV教程" class="headerlink" title="6. OpenCV教程"></a>6. OpenCV教程</h2><ul>
<li><a target="_blank" rel="noopener" href="https://woshicver.com/">OpenCV中文官方文档</a></li>
<li><a target="_blank" rel="noopener" href="https://opencv.apachecn.org/#/">OpenCV 4.0 中文文档</a></li>
</ul>
<h2 id="7-pyechart"><a href="#7-pyechart" class="headerlink" title="7. pyechart"></a>7. pyechart</h2><ul>
<li><a target="_blank" rel="noopener" href="https://gallery.pyecharts.org/#/README">pyechart中文文档</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/pyecharts/pyecharts">pyechart的github地址</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/pyecharts/pyecharts-gallery">pyechart图库</a></li>
</ul>

    </div>

    
    
    

<div> 
<div class="my_post_copyright">
  <script src="//cdn.bootcss.com/clipboard.js/1.5.10/clipboard.min.js"></script>

  <!-- JS库 sweetalert 可修改路径 -->
  <script type="text/javascript" src="http://jslibs.wuxubj.cn/sweetalert_mini/jquery-1.7.1.min.js"></script>
  <script src="http://jslibs.wuxubj.cn/sweetalert_mini/sweetalert.min.js"></script>
  <link rel="stylesheet" type="text/css" href="http://jslibs.wuxubj.cn/sweetalert_mini/sweetalert.mini.css">

  <p><span>Article:</span>Python Basic Notes</a></p>
  <p><span>Author:</span>Ming Huang</a></p>
  <p><span>Release time：</span>2024-07-13   19:05:11</p>
  <p><span>Updat time:</span>2024-10-25   19:07:10</p>
  <p><span>Original link:</span><a href="/2024/07/13/Python-Basic-Notes/" title="Python Basic Notes">https://www.huangm.cn/2024/07/13/Python-Basic-Notes/</a>
    <span class="copy-path"  title="Click to copy the article link"><i class="fa fa-clipboard" data-clipboard-text="https://www.huangm.cn/2024/07/13/Python-Basic-Notes/"  aria-label="Copy successful!"></i></span>
  </p>
  <p><span>license agreement:</span><i class="fa fa-creative-commons" /></i> <a rel="license" href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank" title="Attribution-NonCommercial-NoDerivatives 4.0 International (CC BY-NC-ND 4.0)"> (CC BY-NC-ND 4.0)</a> Please keep the original link and author when reprinting.</p>
</div>
<script>
    var clipboard = new Clipboard('.fa-clipboard');
    clipboard.on('success', $(function(){
      $(".fa-clipboard").click(function(){
        swal({
          title: "",
          text: 'Copy successful',
          html: false,
          timer: 500,
          showConfirmButton: false
        });
      });
    }));
</script>
 </div>

      <footer class="post-footer">

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2024/05/25/Practical-English-Writing-Course-Notes/" rel="prev" title="Practical English Writing Course Notes">
      <i class="fa fa-chevron-left"></i> Practical English Writing Course Notes
    </a></div>
      <div class="post-nav-item"></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#PYTHON-%E5%9F%BA%E7%A1%80"><span class="nav-text">PYTHON 基础</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-python-%E6%B5%81%E7%A8%8B%E6%A0%BC%E5%BC%8F"><span class="nav-text">1. python 流程格式</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-1-%E5%8F%98%E9%87%8F%E8%B5%8B%E5%80%BC%E3%80%81%E8%BF%90%E7%AE%97%E4%B8%8E%E5%AD%97%E7%AC%A6%E4%B8%B2%E8%A1%A8%E7%A4%BA%E3%80%81%E5%A4%84%E7%90%86%E3%80%81%E5%88%A4%E6%96%AD"><span class="nav-text">1.1 变量赋值、运算与字符串表示、处理、判断</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-2-%E6%9D%A1%E4%BB%B6%E5%88%A4%E6%96%AD%E3%80%81%E5%BE%AA%E7%8E%AF%E3%80%81%E8%B7%B3%E5%87%BA%E8%B7%B3%E8%BF%87%EF%BC%88if-for-while-break-continue%EF%BC%89"><span class="nav-text">1.2 条件判断、循环、跳出跳过（if&#x2F;for&#x2F;while&#x2F;break&#x2F;continue）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-3-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="nav-text">1.3 数据类型</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-3-1-List%E5%88%97%E8%A1%A8%E3%80%81Dict%E5%AD%97%E5%85%B8%E3%80%81Tuple%E5%85%83%E7%BB%84%E3%80%81Set%E9%9B%86%E5%90%88"><span class="nav-text">1.3.1 List列表、Dict字典、Tuple元组、Set集合</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#1-3-2-arrly%E6%95%B0%E7%BB%84-%E2%80%94%E2%80%94-Numpy%E5%BA%93"><span class="nav-text">1.3.2 arrly数组 —— Numpy库</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#1-3-3-arrly%E8%A1%A8-%E2%80%94%E2%80%94-Panda%E5%BA%93"><span class="nav-text">1.3.3 arrly表  —— Panda库</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-4-%E4%B8%80%E4%BA%9B%E5%87%BD%E6%95%B0%E7%9A%84%E5%A6%99%E7%94%A8"><span class="nav-text">1.4 一些函数的妙用</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-4-1enumerate-%E8%87%AA%E5%8A%A8%E5%8A%A0-index"><span class="nav-text">1.4.1enumerate 自动加 index</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#1-4-2-Zip-%E5%90%8C%E6%97%B6%E8%BF%AD%E4%BB%A3"><span class="nav-text">1.4.2 Zip 同时迭代</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#1-4-3-reverse-amp-reversed-%E7%BF%BB%E8%BD%AC%E5%88%97%E8%A1%A8"><span class="nav-text">1.4.3 reverse &amp; reversed 翻转列表</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#1-4-4-Deep-Copy-amp-Shallow-Copy-%E5%A4%8D%E5%88%B6%E8%A6%81%E7%82%B9"><span class="nav-text">1.4.4 Deep Copy &amp; Shallow Copy 复制要点</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link"><span class="nav-text">123456789101112131415161718192021222324252627#存放的数值、字符时相当于Deep Copyl &#x3D; [1,2,3]_l &#x3D; l.copy()_l[0] &#x3D; -1print(_l)print(l)#&gt; [-1, 2, 3]#&gt; [1, 2, 3]#存放的列表时  .copy只是浅拷贝Shallow Copyl &#x3D; [[1],[2],3]_l &#x3D; l.copy()_l[0][0] &#x3D; -1print(_l)print(l)#&gt; [[-1], [2], 3]#&gt; [[-1], [2], 3]#存放的列表时  如何深拷贝哪？from copy import deepcopyl &#x3D; [[1],[2],3]_l &#x3D; deepcopy(l)_l[0][0] &#x3D; -1print(_l)print(l)#&gt; [[-1], [2], 3]#&gt; [[1], [2], 3]</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-python-%E6%A1%86%E6%9E%B6%E6%A0%BC%E5%BC%8F"><span class="nav-text">2. python 框架格式</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#2-1-%E5%87%BD%E6%95%B0-Function-%E2%80%94-%E7%B1%BB-Class-%E2%80%94-%E6%A8%A1%E5%9D%97-Module"><span class="nav-text">2.1 函数(Function) — 类 (Class) — 模块 (Module)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-2-%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86-try-except-raise-%E4%B8%8E-%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95-Unittest"><span class="nav-text">2.2 异常处理(try-except\raise) 与 单元测试 (Unittest)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-3-%E7%94%9F%E6%88%90%E5%99%A8%E4%B8%8E%E8%A3%85%E9%A5%B0%E5%99%A8"><span class="nav-text">2.3 生成器与装饰器</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-4-%E5%B7%A5%E7%A8%8B%E9%97%AE%E9%A2%98%E7%BC%96%E7%A8%8B%E6%80%9D%E8%B7%AF"><span class="nav-text">2.4 工程问题编程思路</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-python-%E6%96%87%E4%BB%B6%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86"><span class="nav-text">3. python 文件数据处理</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#3-1%E6%96%87%E4%BB%B6%E6%95%B0%E6%8D%AE%E8%AF%BB%E5%86%99"><span class="nav-text">3.1文件数据读写</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#3-1-1-%E5%9F%BA%E7%A1%80%E8%AF%BB%E5%86%99"><span class="nav-text">3.1.1 基础读写</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-1-2-Numpy%E5%BA%93%E4%B8%AD%E7%9A%84%E6%95%B0%E6%8D%AE%E8%AF%BB%E5%86%99"><span class="nav-text">3.1.2 Numpy库中的数据读写</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-1-3-Panda%E5%BA%93%E4%B8%AD%E7%9A%84%E6%95%B0%E6%8D%AE%E8%AF%BB%E5%86%99"><span class="nav-text">3.1.3 Panda库中的数据读写</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-2%E6%96%87%E4%BB%B6%E7%9B%AE%E5%BD%95%E7%AE%A1%E7%90%86%EF%BC%88OS%E5%BA%93%EF%BC%89"><span class="nav-text">3.2文件目录管理（OS库）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-3%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%8C%B9%E9%85%8D-%E6%9C%AA%E5%AE%8C%E6%88%90"><span class="nav-text">3.3正则表达式匹配(未完成)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-3%E5%BA%8F%E5%88%97%E5%8C%96%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93%EF%BC%88Json-and-Pickle%EF%BC%89"><span class="nav-text">3.3序列化数据传输（Json and Pickle）</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#python-%E7%9B%B8%E5%85%B3%E8%BF%9E%E6%8E%A5"><span class="nav-text">python 相关连接</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-python%E5%9F%BA%E7%A1%80"><span class="nav-text">1. python基础</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-python100%E5%A4%A9"><span class="nav-text">2. python100天</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE"><span class="nav-text">3.虚拟环境配置</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-requirements"><span class="nav-text">4. requirements</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-mmdetetion"><span class="nav-text">5. mmdetetion</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#5-1-%E6%95%99%E7%A8%8B"><span class="nav-text">5.1 教程</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-2-%E6%B5%8B%E8%AF%95%E7%A8%8B%E5%BA%8F%E7%94%A8%E6%97%B6"><span class="nav-text">5.2 测试程序用时</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-3-%E5%88%86%E5%B8%83%E5%BC%8F%E8%AE%AD%E7%BB%83"><span class="nav-text">5.3 分布式训练</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-4-%E8%AE%AD%E7%BB%83"><span class="nav-text">5.4 训练</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-5-%E6%B5%8B%E7%AE%97%E6%A8%A1%E5%9E%8B%E5%8F%82%E6%95%B0%E9%87%8F%E5%92%8C%E8%AE%A1%E7%AE%97%E9%87%8F"><span class="nav-text">5.5 测算模型参数量和计算量</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-6-%E6%8C%87%E5%AE%9AGPU%E8%BF%90%E8%A1%8C"><span class="nav-text">5.6 指定GPU运行</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-7-Git"><span class="nav-text">5.7. Git</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-OpenCV%E6%95%99%E7%A8%8B"><span class="nav-text">6. OpenCV教程</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#7-pyechart"><span class="nav-text">7. pyechart</span></a></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Ming Huang"
      src="/images/pic.png">
  <p class="site-author-name" itemprop="name">Ming Huang</p>
  <div class="site-description" itemprop="description">Let’s do something extraordinary together.</div>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://bit.edu.cn/" title="Beijing Institute of Technology → https:&#x2F;&#x2F;bit.edu.cn&#x2F;" rel="noopener" target="_blank"><i class="fa fa-university fa-fw"></i>Beijing Institute of Technology</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://scholar.google.com.hk/citations?user=nDvJ6BUAAAAJ&hl=en/" title="Google Scholar → https:&#x2F;&#x2F;scholar.google.com.hk&#x2F;citations?user&#x3D;nDvJ6BUAAAAJ&amp;hl&#x3D;en&#x2F;" rel="noopener" target="_blank"><i class="fa fa-graduation-cap fa-fw"></i>Google Scholar</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:huangming98@163.com" title="E-Mail → mailto:huangming98@163.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://orcid.org/0000-0001-9146-4721" title="ORCID → https:&#x2F;&#x2F;orcid.org&#x2F;0000-0001-9146-4721" rel="noopener" target="_blank"><i class="fa fa-id-card fa-fw"></i>ORCID</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://github.com/huangming98" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;huangming98" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
  </div>




<script src="/js/switch_language.js"></script>
      </div>

<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=86 src="https://music.163.com/outchain/player?type=2&id=1941963749&auto=1&height=66"></iframe>

    </div>
  </aside>

  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 2022.09— 
  <span itemprop="copyrightYear">2025.06</span>
  
   
</div>
  <div class="powered-by"><p style="color:rgb(0,0,255,0.8);font-size:1.2em;font-weight:bold;font-family:Arial">Do not be afraid of making mistakes, only of missing opportunities!</p>
  </div>

<!-- Insert clustrmaps.com -->
<!-- <a target="_blank" rel="noopener" href='https://clustrmaps.com/site/1bqbj' ><img src='//clustrmaps.com/map_v2.png?cl=555555&w=350&t=m&d=b6-cOzsyxmN07VPEXlJO1PaWKRLFhE6feh1y5oiN1Hw&co=f5f5f5&ct=555555'/></a> -->


<!-- 网站运行时间的设置 -->
<span id="timeDate">载入天数...</span>
<span id="times">载入时分秒...</span>
<script>
    var now = new Date();
    function createtime() {
        var grt= new Date("03/01/2023 10:00:00"); //此处修改你的建站时间或者网站上线时间
        now.setTime(now.getTime()+250);
        days = (now - grt ) / 1000 / 60 / 60 / 24; dnum = Math.floor(days);
        hours = (now - grt ) / 1000 / 60 / 60 - (24 * dnum); hnum = Math.floor(hours);
        if(String(hnum).length ==1 ){hnum = "0" + hnum;} minutes = (now - grt ) / 1000 /60 - (24 * 60 * dnum) - (60 * hnum);
        mnum = Math.floor(minutes); if(String(mnum).length ==1 ){mnum = "0" + mnum;}
        seconds = (now - grt ) / 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum);
        snum = Math.round(seconds); if(String(snum).length ==1 ){snum = "0" + snum;}
        document.getElementById("timeDate").innerHTML = "<br />This website is as worthless as hundreds of daily chores, but I still hope it will be helpful to you! <br /> It's been running quietly for  "+dnum+" days ";
        document.getElementById("times").innerHTML = hnum + " hours " + mnum + " minutes " + snum + " seconds.";
    } 
setInterval("createtime()",250);
</script>



        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="Total Visitors">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="Total Views">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/medium-zoom@1/dist/medium-zoom.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  

  

</body>
</html>
